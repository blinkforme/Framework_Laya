!function(e){var t={};function i(o){if(t[o])return t[o].exports;var r=t[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,i),r.l=!0,r.exports}i.m=e,i.c=t,i.d=function(e,t,o){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(i.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(o,r,function(t){return e[t]}.bind(null,r));return o},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s="./sdk_tt/Main.ts")}({"./framework/Assist/Http.ts":function(e,t,i){"use strict";i.r(t),i.d(t,"default",function(){return r});var o=i("./sdk/Assist/Log.ts");class r{static Request(e,t,i=1,s=!1){let n=new XMLHttpRequest;s&&s&&o.Log.Debug("http url:"+t);let a=t.Value();(e.IsVivo||e.IsQGMiniGame||e.IsQQMiniGame)&&(a=t.EncodeURI()),e.IsOnMobile?n.open(t.Method(),a):n.open(t.Method(),a,t.IsAsync());let l=t.Header();for(const e in l)n.setRequestHeader(e,l[e]);n.onerror=function(n){i>1?(i--,r.Request(e,t,i,s)):(s&&o.Log.Error("Http OnError:"+n),t.InvokeError(n+""))},n.onabort=function(e){t.InvokeException(e)},n.onprogress=function(e){},n.onreadystatechange=function(){200===this.status||s&&o.Log.Debug("http request status:"+this.status)},n.onload=function(){try{t.Print();let e=JSON.parse(this.responseText);t.InvokeReceive(e)}catch(e){t.Print(),console.error("xhr.onload error:"+e)}};try{let i=JSON.stringify(t.Data());e.IsOnMobile,n.send(i)}catch(e){t.InvokeException(e)}}}},"./framework/Assist/StorageAdapter.ts":function(e,t,i){"use strict";i.r(t),i.d(t,"StorageAdapter",function(){return r});var o=i("./framework/Log/FrameworkLog.ts");class r{static set WriteString(e){this._StringWriter=e}static get WriteString(){return null==this._StringWriter?(o.FrameworkLog.Error("Adapter.WriteString is not set"),(e,t)=>{}):this._StringWriter}static set WriteObject(e){this._ObjectWriter=e}static get WriteObject(){return null==this._ObjectWriter?(o.FrameworkLog.Error("Adapter.WriteObject is not set"),(e,t)=>{}):this._ObjectWriter}static set ReadString(e){this._StringReader=e}static get ReadString(){return null==this._StringReader?(o.FrameworkLog.Error("Adapter.ReadObject is not set"),e=>""):this._StringReader}static set ReadObject(e){this._ObjectReader=e}static get ReadObject(){return null==this._ObjectReader?(o.FrameworkLog.Error("Adapter.ReadObject is not set"),e=>({})):this._ObjectReader}static set DeleteObject(e){this._ObjectDeleter=e}static get DeleteObject(){return null==this._ObjectDeleter?(o.FrameworkLog.Error("Adapter.DeleteObject is not set"),e=>{}):this._ObjectDeleter}}r.SDK_CONFIG="YDHW_CONFIG",r._StringWriter=null,r._ObjectWriter=null,r._StringReader=null,r._ObjectReader=null,r._ObjectDeleter=null},"./framework/Core.ts":function(e,t,i){"use strict";i.r(t),i.d(t,"Method",function(){return s}),i.d(t,"Wrapper",function(){return n}),i.d(t,"Variable",function(){return a}),i.d(t,"VariableContainer",function(){return l}),i.d(t,"MethodContainer",function(){return h}),i.d(t,"Core",function(){return c}),i.d(t,"BaseManager",function(){return u});var o=i("./framework/Assist/StorageAdapter.ts"),r=i("./framework/Log/FrameworkLog.ts");class s{constructor(e,t,i){this.caller=e,this.method=t,this._Owner=i}Log(){let e="";if(e+="/ncaller:"+this.caller.name,e+="/nmethod:"+this.method.name,this.args)for(let t=0;t<this.args.length;t++){e+=`/r/n arg[${t}]=${this.args[t].name}`}this._Owner&&(e+="/n Owner:"+this._Owner),r.FrameworkLog.Debug(e)}Destroy(){this.caller=null,this.method=null}Bind(e,t,...i){return this.caller=e,this.method=t,this.args=i,this}}class n extends Array{constructor(e=64){super(),this._Size=0,this.length=e}RemoveAt(e){const t=this[e];return this[e]=this[--this._Size],this[this._Size]=null,t}Remove(e){let t,i;const o=this._Size;for(t=0;t<o;t++)if(e==(i=this[t]))return this[t]=this[--this._Size],this[this._Size]=null,!0;return!1}RemoveLast(){if(this._Size>0){const e=this[--this._Size];return this[this._Size]=null,e}return null}Contains(e){let t,i;for(t=0,i=this._Size;i>t;t++)if(e===this[t])return!0;return!1}RemoveAll(e){let t,i,o,r,s,n=!1;for(t=0,o=e.Size();t<o;t++)for(r=e.Get(t),i=0;i<this._Size;i++)if(r===(s=this[i])){this.RemoveAt(i),i--,n=!0;break}return n}Get(e){if(e>=this.length)throw new Error("ArrayIndexOutOfBoundsException");return this[e]}SafeGet(e){return e>=this.length&&this.Grow(7*e/4+1),this[e]}Size(){return this._Size}GetCapacity(){return this.length}IsIndexWithinBounds(e){return e<this.GetCapacity()}IsEmpty(){return 0==this._Size}Add(e){this._Size===this.length&&this.Grow(),this[this._Size++]=e}Set(e,t){e>=this.length&&this.Grow(2*e),this._Size=e+1,this[e]=t}Grow(e=1+~~(3*this.length/2)){this.length=~~e}EnsureCapacity(e){e>=this.length&&this.Grow(2*e)}Clear(){let e,t;for(e=0,t=this._Size;e<t;e++)this[e]=null;this._Size=0}AddAll(e){let t;for(t=0;e.Size()>t;t++)this.Add(e.Get(t))}}class a{constructor(e,t,i){this._IsStore=!1,this._ListCaller=new n,this._ListBindingEvent=new n,this._ListArgs=new n,this._Owner=t,this._Name=e,this._Value=i,this._Type=typeof i,this._ListCaller=new n,this._ListBindingEvent=new n,this._ListArgs=new n}Log(){let e="";this._Owner&&(e+="Owner: "+this._Owner),e+="\nType: "+this._Type,e+="\nVariableId: "+this._Name,e+="\nValue: "+this._Value,e+="\n",r.FrameworkLog.Debug(e)}SetOwner(e){return this._Owner=e,this}Owner(){return this._Owner}Store(){return this._IsStore=!0,this}IsStore(){return this._IsStore}Data(){this.Owner}Revert(e){this._Value=e,this._Type=typeof e}Name(){return this._Name}SetValue(e){let t=this._Value;return this._Value=e,this._Type=typeof e,this._EmitValueChanged(t),this}Value(){return this._Value}Type(){return this._Type}Bind(e,t,...i){this._ListCaller.Add(e),this._ListBindingEvent.Add(t),this._ListArgs.Add(i)}Assign(){this._EmitValueChanged(this._Value)}Unbind(e,t){this._ListCaller.Remove(e),this._ListBindingEvent.Remove(t)}_EmitValueChanged(e){for(let e=0,t=this._ListBindingEvent.Size();e<t;e++){let t=this._ListCaller[e],i=this._ListBindingEvent[e],o=this._ListArgs[e],r=[];r.push(this._Value);for(let e in o)r.push(o[e]);i.apply(t,r)}}}class l{constructor(){this._DictVariable={},this._IsRestore=!1}CheckAllVariables(){r.FrameworkLog.Debug("Check all variables"),r.FrameworkLog.Debug("---------------------------------------------");let e=this._DictVariable;for(let t in e){let i=e[t];r.FrameworkLog.Debug("Variable:"+t),i.Log()}r.FrameworkLog.Debug("---------------------------------------------")}_GetVariable(e,t){let i=this._DictVariable[e];return void 0==i||null==i?null:i}GetVariable(e,t){let i=this._DictVariable,o=i[e];if(null==o){let r=new a(e,t,null);null==(o=this.RevertVariable(r))||(i[e]=o)}return o}ModifyVariable(e,t){null!=e?(e.SetValue(t),e.IsStore()&&this.SaveVariable(e.Name())):r.FrameworkLog.Error("修改的变量不存在")}DeclareVariable(e,t,i){if(null==e||0==e.toString().length)return null;{let o=this._GetVariable(e);return null!=o?o.SetValue(i):(o=new a(e,t,i),this._DictVariable[e]=o),o}}RemoveVariable(e){let t=this._DictVariable;null!=t[e]&&(delete t[e],o.StorageAdapter.DeleteObject(e))}_GetVariableValue(e){let t=this.GetVariable(e);return null==t?null:t.Value()}GetValueT(e,t){let i=this._GetVariableValue(e);return null==i?(r.FrameworkLog.Error(`找不到对应的变量名:${e}`),void 0===t?null:t):i}SetValueT(e,t){let i=this._GetVariable(e);null!=i?this.ModifyVariable(i,t):console.error("修改的变量不存在："+e)}AddValueT(e,t){let i=this._GetVariable(e);if(null!=i){if("number"==typeof t){let e=i.Value()+Number(t);return this.ModifyVariable(i,e),i.Value()}if("string"==typeof t){let e=i.Value()+String(t);return this.ModifyVariable(i,e),i.Value()}console.error('当前数据类型暂不支持"+"运算符操作')}else console.error(`"+" 变量不存在：${e}`);return null}SubValueT(e,t){let i=this._GetVariable(e);if(null!=i){if("number"==typeof t){let e=i.Value()+Number(t);return this.ModifyVariable(i,e),i.Value()}if("string"==typeof t){let e=i.Value()+String(t);return this.ModifyVariable(i,e),i.Value()}console.error('当前数据类型暂不支持"+"运算符操作')}else console.error(`"-" 变量不存在：${e}`);return null}Bind(e,t,i,...o){let r=this._GetVariable(e);return null!=r&&(r.Bind(t,i,o),!0)}Unbind(e,t,i){let o=this._GetVariable(e);return null!=o&&(o.Unbind(t,i),!0)}RevertVariable(e){let t=e.Name(),i=o.StorageAdapter.ReadObject(t);if(!i)return r.FrameworkLog.Warn("本地数据不存在字段:"+t),null;if("object"==typeof i){i.name;let t=i.type;if(void 0===t)return console.error("1 数据类型不存在!"),null;let o=i.value;if(void 0===o)return console.error("2 数据类型不存在!"),null;if(void 0===i.is_store)return console.error("3 数据类型不存在!"),null;let r=i.owner;if(void 0===r)return console.error("4 数据类型不存在!"),null;if("string"==t)e.Revert(String(o));else if("number"==t)e.Revert(Number(o));else if("boolean"==t)e.Revert(Boolean(o));else{if("object"!=t)return console.error("数据类型不存在!"),null;e.Revert(Object(o))}e.Store(),e.SetOwner(r)}return e}RevertData(){if(this._IsRestore)return;let e=this._DictVariable;for(let t in e){let i=e[t];i.IsStore()&&this.RevertVariable(i)}this._IsRestore=!0}SaveData(e){let t=this._DictVariable;for(let i in t){let r=t[i];r.Owner()==e&&r.IsStore()&&o.StorageAdapter.WriteObject(i,{name:i,value:r.Value(),type:r.Type(),is_store:r.IsStore(),owner:r.Owner()})}return[]}SaveAllData(){let e=this._DictVariable;for(let t in e)this.SaveVariable(t)}SaveVariable(e){let t=this._DictVariable[e];t.IsStore()&&o.StorageAdapter.WriteObject(e,{name:e,value:t.Value(),type:t.Type(),is_store:t.IsStore(),owner:t.Owner()})}}class h{constructor(){this._DictNotify={},this._DictMethod={}}CheckAllMethods(){console.log("Check all notify"),console.log("---------------------------------------------");for(let e in this._DictNotify){let t=this._DictNotify[e];console.log(`Notify: ${e}`);for(let e=0;e<t.length;e++){t[e].Log()}}console.log("Check all method"),console.log("---------------------------------------------");for(let e in this._DictMethod){let t=this._DictMethod[e];console.log(`Mehtod: ${e}`),t.Log()}console.log("---------------------------------------------")}DeclareMethod(e,t,i,o){let r=this._DictMethod,n=r[e];return null==n?r[e]=new s(t,o,i):console.error(e+" 已经被注册过了"),n}DeclareNotify(e,t,i,o){let r=this._DictNotify;null==r[e]?(r[e]=[],r[e].push(new s(t,o,i))):r[e].push(new s(t,o,i))}InvokeNotify(e,t){let i=this._DictNotify[e];if(i&&i.length)for(let e=0,o=i.length;e<o;e++){let o=i[e];o.method.apply(o.caller,t)}}InvokeMethod(e,t){let i=this._DictMethod[e];if(null!=i)return i.method.apply(i.caller,t);console.error("事件没注册："+e)}ClearAllMethod(){let e=this._DictMethod;for(let t in e){e[t].Destroy(),delete e[t]}delete this._DictMethod}}function d(e,t){return t in e?e:null}class c{constructor(){this.VariableContainer=new l,this.MethodContainer=new h,this._ListInitialize={},this._ListExecute={},this._ListAll={},this._CurFrameIndex=0,this._ListInitialize={},this._ListExecute={},this._ListAll={},this._Manager=new u,this._Manager.SetCore(this)}static get Instance(){return null==c._Instance&&(c._Instance=new c),c._Instance}static SetCore(e,t){const i=d(e,"SetCore");null!=i&&i.SetCore(t)}static SetName(e,t){const i=d(e,"SetName");null!=i&&i.SetName(t)}GetVariableContainer(){return this.VariableContainer}GetMethodContainer(){return this.MethodContainer}AddManager(e,t){if(r.FrameworkLog.Log("Add Manager: "+e),"function"==typeof t){t=new t}c.SetCore(t,this),c.SetName(t,e);const i=d(t,"Initialize");if(null!=i){this._ListInitialize[e]=i}const o=d(t,"Execute");if(null!=o){this._ListExecute[e]=o}return this._ListAll[e]=t,this}AsManager(){return this._Manager}GetManager(e){return this._ListAll[e]}Initialize(){const e=this._ListInitialize;for(let t in e){let i=e[t];i&&i.Initialize()}}Execute(){this._CurFrameIndex++;const e=this._ListExecute;for(let t in e){let i=e[t];i&&i.Execute(this._CurFrameIndex)}}Restore(){const e=this._ListAll;for(let t in e){e[t].Restore()}}Save(){const e=this._ListAll;for(let t in e){e[t].Save()}}}c._Instance=null;class u{constructor(){this.Name="Gauntlet",this._Core=null,this.VariableContainer=null,this.MethodContainer=null}SetName(e){this.Name=e}SetCore(e){this._Core=e,this.VariableContainer=this._Core.GetVariableContainer(),this.MethodContainer=this._Core.GetMethodContainer()}DeclareMethod(e,t,i){return this.MethodContainer.DeclareMethod(e,t,this.Name,i)}DeclareNotify(e,t,i){this.MethodContainer.DeclareNotify(e,t,this.Name,i)}InvokeMethod(e,...t){return this.MethodContainer.InvokeMethod(e,t)}InvokeNotify(e,...t){this.MethodContainer.InvokeNotify(e,t)}DeclareVariable(e,t){return this.VariableContainer.DeclareVariable(e,this.Name,t)}GetVariable(e){return this.VariableContainer.GetVariable(e,this.Name)}GetValueT(e,t){return this.VariableContainer.GetValueT(e,t)}SetValueT(e,t){this.VariableContainer.SetValueT(e,t)}AddValueT(e,t){return this.VariableContainer.AddValueT(e,t)}SubValueT(e,t){return this.VariableContainer.SubValueT(e,t)}BindVariable(e,t,i,...o){return this.VariableContainer.Bind(e,t,i)}UnbindVariable(e,t,i){return this.VariableContainer.Unbind(e,t,i)}RemoveVariable(e){this.VariableContainer.RemoveVariable(e)}Restore(){this.VariableContainer.RevertData()}Save(){this.Name&&this.Name.length>0?this.VariableContainer.SaveData(this.Name):this.VariableContainer.SaveAllData()}SaveVariable(e){this.Name&&this.Name.length>0&&this.VariableContainer.SaveVariable(e)}}},"./framework/Define.ts":function(e,t,i){"use strict";var o,r,s,n,a,l,h;i.r(t),i.d(t,"EM_PLATFORM_TYPE",function(){return o}),i.d(t,"GAME_STATE",function(){return r}),i.d(t,"SYS_VAR",function(){return s}),i.d(t,"PANEL_TYPE",function(){return n}),i.d(t,"PERIOD",function(){return a}),i.d(t,"EM_SURFACE_SCALE_TYPE",function(){return l}),i.d(t,"EM_POWER_RECOVERY_TYPE",function(){return h}),function(e){e[e.Common=-1]="Common",e[e.Wechat=0]="Wechat",e[e.QQ=1]="QQ",e[e.Oppo=2]="Oppo",e[e.Vivo=3]="Vivo",e[e.Toutiao=4]="Toutiao",e[e.Baidu=5]="Baidu",e[e.P_4399=6]="P_4399",e[e.Qutoutiao=7]="Qutoutiao",e[e.P_360=8]="P_360",e[e.Momo=9]="Momo",e[e.Web=10]="Web",e[e.Xiaomi=11]="Xiaomi",e[e.Meizu=12]="Meizu",e[e.UC=13]="UC",e[e.Alipay=14]="Alipay"}(o||(o={})),function(e){e.INVALID="INVALID",e.HOME="HOME",e.LOADING="LOADING",e.GAME="GAME",e.PAUSE="PAUSE",e.RESULT="RESULT"}(r||(r={})),function(e){e.ResourceManager="ResourceManager"}(s||(s={})),function(e){e.APP="APP",e.POP="POP",e.SYS="SYS"}(n||(n={})),function(e){e.Invalid="Invalid",e.OnLoading="OnLoading",e.OnInit="OnInit",e.OnPreload="OnPreload",e.OnStart="OnStart",e.OnRun="OnRun",e.OnResume="OnResume",e.OnPause="OnPause",e.OnResult="OnResult",e.OnRevive="OnRevive"}(a||(a={})),function(e){e[e.SCALE_SHOW_ALL=0]="SCALE_SHOW_ALL",e[e.SCALE_SHOW_FULL=1]="SCALE_SHOW_FULL",e[e.SCALE_FORCE_FULL=2]="SCALE_FORCE_FULL"}(l||(l={})),function(e){e[e.None=0]="None",e[e.WatchVideo=1]="WatchVideo",e[e.AutoRecovery=2]="AutoRecovery",e[e.CountDown=3]="CountDown"}(h||(h={}))},"./framework/Log/FrameworkLog.ts":function(e,t,i){"use strict";i.r(t),i.d(t,"FrameworkLog",function(){return r});var o=i("./framework/Utility/LogUtility.ts");class r{static Log(e,...t){o.LogUtility.Instance.Log("Framework",e,null,t)}static Debug(e,...t){o.LogUtility.Instance.Debug("Framework",e,null,t)}static Info(e,...t){o.LogUtility.Instance.Info("Framework",e,null,t)}static Warn(e,...t){o.LogUtility.Instance.Warn("Framework",e,null,t)}static Error(e,...t){o.LogUtility.Instance.Error("Framework",e,null,t)}}},"./framework/Log/UrlLog.ts":function(e,t,i){"use strict";i.r(t),i.d(t,"UrlLog",function(){return r});var o=i("./framework/Utility/LogUtility.ts");class r{static Log(e,...t){o.LogUtility.Instance.Log("Url",e,null,t)}static Debug(e,...t){o.LogUtility.Instance.Debug("Url",e,null,t)}static Info(e,...t){o.LogUtility.Instance.Info("Url",e,null,t)}static Warn(e,...t){o.LogUtility.Instance.Warn("Url",e,null,t)}static Error(e,...t){o.LogUtility.Instance.Error("Url",e,null,t)}}},"./framework/Manager/AgentManager.ts":function(e,t,i){"use strict";i.r(t),i.d(t,"AgentManager",function(){return r});var o=i("./framework/Manager/Manager.ts");class r extends o.Manager{Initialize(){}Post(e,t,i,o=1,r,s){t||(t={}),r=!!r&&1==r,s=!!s&&1==s;let n=new XMLHttpRequest;n.timeout=5e3,s&&console.log("http post url:"+e),n.open("post",e,r),n.setRequestHeader("Content-Type","application/json");let a=this;n.onerror=function(n){console.error(n),o>1?(o--,a.Post(e,t,i,o,r,s)):i&&"function"==typeof i?i(n):console.log("callback is no correct")},n.onabort=function(e){console.error(e)},n.onprogress=function(e){},n.onreadystatechange=function(){200===this.status||console.warn("http request status:"+this.status)},n.onload=function(){let e=JSON.parse(this.responseText);e&&i&&"function"==typeof i?i(e):console.error("json parse failed!")};let l=JSON.stringify(t);l&&l.length>0&&s&&console.log("http post  url:"+e+" json:"+l);try{n.send(l)}catch(e){console.exception(e)}}Get(e,t,i,o=1,r,s){t||(t={}),r=!!r&&1==r,s=!!s&&1==s;let n="?",a=!0;for(let e in t)a?(a=!1,n+="?"):n+="&",n+=e+"="+t[e];let l=new XMLHttpRequest;l.timeout=5e3,s&&console.log("http get url:"+e),l.open("get",e,r),l.setRequestHeader("Content-Type","application/x-www-form-urlencoded");let h=this;l.onerror=function(n){console.error(n),o>1?(o--,h.Get(e,t,i,o,r,s)):i&&"function"==typeof i?i(n):console.log("callback is no correct")},l.onabort=function(e){console.error(e)},l.onprogress=function(e){},l.onreadystatechange=function(){200===this.status||console.warn("http request status:"+this.status)},l.onload=function(){let e=JSON.parse(this.responseText);e&&i&&"function"==typeof i?i(e):console.error("json parse failed!")};try{l.send()}catch(e){console.exception(e)}}}},"./framework/Manager/ApiManager.ts":function(e,t,i){"use strict";i.r(t),i.d(t,"ApiManager",function(){return r});var o=i("./framework/Manager/Manager.ts");class r extends o.Manager{constructor(){super()}Initialize(){}}},"./framework/Manager/CommerceManager.ts":function(e,t,i){"use strict";i.r(t),i.d(t,"CommerceManager",function(){return r});var o=i("./framework/Manager/Manager.ts");class r extends o.Manager{Initialize(){}}},"./framework/Manager/DataManager.ts":function(e,t,i){"use strict";i.r(t),i.d(t,"DataManager",function(){return r});var o=i("./framework/Manager/Manager.ts");class r extends o.Manager{Initialize(){}}},"./framework/Manager/Manager.ts":function(e,t,i){"use strict";i.r(t),i.d(t,"Manager",function(){return s});var o=i("./framework/Utility/LogUtility.ts"),r=i("./framework/Core.ts");class s extends r.BaseManager{constructor(){super(...arguments),this.Name="Gauntlet"}Log(e,...t){o.LogUtility.Instance.Log(this.Name,e,s.LogStyle,t)}Debug(e,...t){o.LogUtility.Instance.Debug(this.Name,e,s.DebugStyle,t)}Info(e,...t){o.LogUtility.Instance.Info(this.Name,e,s.InfoStyle,t)}Warn(e,...t){o.LogUtility.Instance.Warn(this.Name,e,s.WarnStyle,t)}Error(e,...t){o.LogUtility.Instance.Error(this.Name,e,s.ErrorStyle,t)}Table(e,t){o.LogUtility.Instance.Table(this.Name,s.TableStyle,e,t)}}s.DEFAULT_FONT_SIZE=12,s.LogStyle=`color: green; font-size:${s.DEFAULT_FONT_SIZE}px`,s.DebugStyle=`color: DodgerBlue; font-size:${s.DEFAULT_FONT_SIZE}px`,s.InfoStyle=`color: Turquoise; font-size:${s.DEFAULT_FONT_SIZE}px`,s.WarnStyle=`color: Orange; font-size:bold,${s.DEFAULT_FONT_SIZE}px`,s.ErrorStyle=`color: Tomato; font-size:${s.DEFAULT_FONT_SIZE}px`,s.TableStyle=`color: Black; font-size:${s.DEFAULT_FONT_SIZE}px`},"./framework/Utility/LogUtility.ts":function(e,t,i){"use strict";i.r(t),i.d(t,"LogUtility",function(){return o});class o{constructor(){this._Tag="",this.PARAM_COUNT=3,this._LogStyle=`color:green;font-size:${o.DEFAULT_FONT_SIZE}px;font-weight:bold;`,this._DebugStyle=`color:dodgerblue;font-size:${o.DEFAULT_FONT_SIZE}px;font-weight:bold;`,this._InfoStyle=`color:turquoise;font-size:${o.DEFAULT_FONT_SIZE}px;font-weight:bold;`,this._WarnStyle=`color:orange;font-size:bold,${o.DEFAULT_FONT_SIZE}px;font-weight:bold;`,this._ErrorStyle=`color:tomato;font-size:${o.DEFAULT_FONT_SIZE}px;font-weight:bold;`,this._TableStyle=`color:magenta;font-size:${o.DEFAULT_FONT_SIZE}px;font-weight:bold;`}static get Instance(){return null==this._Instance&&(this._Instance=new o),this._Instance}Log(e,t,i,r){if(!o.IS_ENABLE_DEBUG)return;i=i&&void 0!==i?i:this._LogStyle;let s=[];for(let e=this.PARAM_COUNT;e<arguments.length;e++)s[e-this.PARAM_COUNT]=arguments[e];this.Platform&&(this.Platform.IsOppo||this.Platform.IsWechat)?r&&void 0!==r&&r.length>0?console.log.apply(console,["[Log]["+e+"] "+t].concat(s)):console.log.apply(console,["[Log]["+e+"] "+t]):(r&&void 0!==r&&r.length>0?console.groupCollapsed.apply(console,["%c[Log]["+e+"] "+t,i].concat(s)):console.groupCollapsed.apply(console,["%c[Log]["+e+"] "+t,i]),console.trace(),console.groupEnd())}Debug(e,t,i,r){if(!o.IS_ENABLE_DEBUG)return;i=i&&void 0!==i?i:this._DebugStyle;let s=[];for(let e=this.PARAM_COUNT;e<arguments.length;e++)s[e-this.PARAM_COUNT]=arguments[e];this.Platform&&(this.Platform.IsOppo||this.Platform.IsWechat)?r&&void 0!==r&&r.length>0?console.debug.apply(console,["[Debug]["+e+"] "+t].concat(s)):console.debug.apply(console,["[Debug]["+e+"] "+t]):(r&&void 0!==r&&r.length>0?console.groupCollapsed.apply(console,["%c[Debug]["+e+"] "+t,i].concat(s)):console.groupCollapsed.apply(console,["%c[Debug]["+e+"] "+t,i]),console.trace(),console.groupEnd())}Info(e,t,i,r){if(!o.IS_ENABLE_DEBUG)return;i=i&&void 0!==i?i:this._InfoStyle;let s=[];for(let e=this.PARAM_COUNT;e<arguments.length;e++)s[e-this.PARAM_COUNT]=arguments[e];this.Platform&&(this.Platform.IsOppo||this.Platform.IsWechat)?r&&void 0!==r&&r.length>0?console.info.apply(console,["[Info]["+e+"] "+t].concat(s)):console.info.apply(console,["[Info]["+e+"] "+t]):(r&&void 0!==r&&r.length>0?console.groupCollapsed.apply(console,["%c[Info]["+e+"] "+t,i].concat(s)):console.groupCollapsed.apply(console,["%c[Info]["+e+"] "+t,i]),console.trace(),console.groupEnd())}Warn(e,t,i,r){if(!o.IS_ENABLE_DEBUG)return;i=i&&void 0!==i?i:this._WarnStyle;let s=[];for(let e=this.PARAM_COUNT;e<arguments.length;e++)s[e-this.PARAM_COUNT]=arguments[e];this.Platform&&(this.Platform.IsOppo||this.Platform.IsWechat)?r&&void 0!==r&&r.length>0?console.warn.apply(console,["[Warn]["+e+"] "+t].concat(s)):console.warn.apply(console,["[Warn]["+e+"] "+t]):(r&&void 0!==r&&r.length>0?console.groupCollapsed.apply(console,["%c[Warn]["+e+"] "+t,i].concat(s)):console.groupCollapsed.apply(console,["%c[Warn]["+e+"] "+t,i]),console.trace(),console.groupEnd())}Error(e,t,i,r){if(!o.IS_ENABLE_DEBUG)return;i=i&&void 0!==i?i:this._ErrorStyle;let s=[];for(let e=this.PARAM_COUNT;e<arguments.length;e++)s[e-this.PARAM_COUNT]=arguments[e];this.Platform&&(this.Platform.IsOppo||this.Platform.IsWechat)?r&&void 0!==r&&r.length>0?console.error.apply(console,["[Error]["+e+"] "+t].concat(s)):console.error.apply(console,["[Error]["+e+"] "+t]):(r&&void 0!==r&&r.length>0?console.groupCollapsed.apply(console,["%c[Error]["+e+"] "+t,i].concat(s)):console.groupCollapsed.apply(console,["%c[Error]["+e+"] "+t,i]),console.trace(),console.groupEnd())}Table(e,t,i,r){o.IS_ENABLE_DEBUG&&(r=r&&void 0!==r?r:this._TableStyle,this.Platform&&(this.Platform.IsOppo||this.Platform.IsWechat)||(console.groupCollapsed.apply(console,["%c[Table]["+e+"] ",r]),console.table(t),console.groupEnd()))}}o._Instance=null,o.IS_ENABLE_DEBUG=!0,o.DEFAULT_FONT_SIZE=12,o.BACK_GROUND_COLOR="background:#FFFF99",new o},"./framework/Utility/RandomUtility.ts":function(e,t,i){"use strict";i.r(t),i.d(t,"RandomUtility",function(){return o});class o{static Probability(e){if(100==e)return!0;if(0==e)return!1;return Math.floor(100*Math.random())<=e}}},"./framework/Utility/TimerUtility.ts":function(e,t,i){"use strict";i.r(t),i.d(t,"Timer",function(){return o}),i.d(t,"DelayTimer",function(){return r}),i.d(t,"default",function(){return s});class o{constructor(){this.IntervalID=null}Initialize(e,t,i,o,r){this.Name=e,this._Caller=t,this._Method=i,this.Args=r,this._StartTimestamp=Date.now(),this.Interval=o}Execute(...e){this._Method.call(this._Caller,e)&&s.RemoveTimer(this.Name)}Invoke(...e){this._Method.call(this._Caller,e)}}class r extends o{Initialize(e,t,i,o,r){this.Name=e,this._Caller=t,this._InnerMethod=i,this.Args=r,this._StartTimestamp=Date.now(),this.Interval=o}Execute(...e){this._InnerMethod.apply(this._Caller,e)}Invoke(...e){this._InnerMethod.apply(this._Caller,e)}}class s{static DecimalFormat(e){return(e>9?"":"0")+e}static TimeFormat_1(e,t){return this.SecondsToDay(e)+t+this.SecondsToHour(e)+t+this.SecondsToMinute(e%60)}static MilliSecondsToSeconds(e){return Math.floor(e/1e3)}static SecondsToDay(e){return e/3600|0}static SecondsToHour(e){return(e/60|0)%60}static SecondsToMinute(e){return e/60}static MilliSecondsToMinute(e){return this.SecondsToMinute(this.MilliSecondsToSeconds(e))}static Delay(e,t,i,...o){let s=new r;s.Initialize("delay_event",t,i,e,o),s.IntervalID=setTimeout(function(){s.Execute(s.Args)},s.Interval);let n=s.IntervalID+"";return this._DelayTimer[n]=s,n}static RemoveDelayTimer(e){let t=this._DelayTimer[e];t&&t instanceof r&&clearTimeout(t.IntervalID)}static DelayBtnEnabled(e,t,...i){this.Delay(2500,e,t,...i)}static DeactivateTimer(e){let t=this._DictTimer[e];t&&t instanceof o?clearInterval(t.IntervalID):console.warn(`休眠 定时器不存在：${e}`)}static ActivateTimer(e){let t=this._DictTimer[e];t&&t instanceof o?(clearInterval(t.IntervalID),t.IntervalID=setInterval(function(){t.Execute(t.Args)},t.Interval)):console.warn(`激活 定时器不存在：${e}`)}static AddTimer(e,t,i,r,s,n){let a=this._DictTimer[e];a&&a instanceof o?console.error(`添加 定时器已存在：${e}`):(i&&r&&r.call(i),(a=new o).Initialize(e,i,s,t,n),a.IntervalID=setInterval(function(){a.Execute(a.Args)},t,n),this._DictTimer[e]=a)}static GetTimer(e){let t=this._DictTimer[e];return t&&t instanceof o?t:(console.error(`获取 定时器不存在:${e}`),null)}static RemoveTimer(e){let t=this._DictTimer[e];t&&t instanceof o?(t=this._DictTimer[e],clearInterval(t.IntervalID),this._DictTimer[e]=null):console.warn(`移除 定时器不存在:${e}`)}}s._DictTimer={},s._DelayTimer={}},"./framework/Utility/Url.ts":function(e,t,i){"use strict";i.r(t),i.d(t,"URL_SLICE_TYPE",function(){return o}),i.d(t,"Url",function(){return a});var o,r=i("./framework/Assist/Http.ts"),s=i("./framework/Log/UrlLog.ts"),n=i("./sdk/SDK/Declare.ts");!function(e){e.None="Null",e.Method="Method",e.Domain="Domain",e.Manager="Manager",e.Version="Version",e.Category="Category",e.Router="Router",e.Append="Append",e.Description="Description",e.End="End"}(o||(o={}));class a{constructor(){this._ListSliceType=[],this._Header={},this._AccountPass="",this._MethodType="",this._Http="",this._DomainIndex=0,this._Domains=[],this._Version="",this._Category="",this._Manager="",this._Router="",this._AppendList=[],this._Params={},this._CurrentAppendIndex=0,this._Description="",this._Url="",this._CurrentSliceType=o.None,this._Async=!0,this._IsEnd=!1,this._Data="",this._IsDebug=!1,this._ReceiveCaller=null,this._ReceiveMethod=null,this._ErrorCaller=null,this._ErrorMethod=null,this._ExceptionCaller=null,a.AllUrls.push(this)}Print(){let e=this._Category+"-"+this._Router;console.log(""+e)}SetIsDebugMode(e){this._IsDebug=e}AccountPass(e){return this._AccountPass=e,this}static SetAllUrlAccountPass(e){for(let t=0;t<a.AllUrls.length;t++){a.AllUrls[t]._AccountPass=e}}RequestHeader(e,t){return this._Header[e]=t,this}Header(){return this._Header}AsPost(){return this._MethodType="post",this}AsGet(){return this._MethodType="get",this}Method(){return this._MethodType}Description(e){return this._Description=e,this._CurrentSliceType=o.Description,this._ListSliceType.indexOf(this._CurrentSliceType)<0&&this._ListSliceType.push(this._CurrentSliceType),this}Switch(e){return this._DomainIndex=e,this}Domain(e){return this._CurrentSliceType=o.Domain,this._ListSliceType.indexOf(this._CurrentSliceType)<0&&this._ListSliceType.push(this._CurrentSliceType),this._Domains=e,this}Manager(e){return this._ListSliceType.indexOf(o.Domain)<0?(s.UrlLog.Error("need set domain"),this):(this._CurrentSliceType=o.Manager,this._ListSliceType.indexOf(this._CurrentSliceType)<0&&this._ListSliceType.push(this._CurrentSliceType),this._Manager=e,this)}Version(e){return this._ListSliceType.indexOf(o.Manager)<0?(s.UrlLog.Error("need set manager"),this):(this._CurrentSliceType=o.Version,this._ListSliceType.indexOf(this._CurrentSliceType)<0&&this._ListSliceType.push(this._CurrentSliceType),this._Version=e,this)}Category(e){return this._ListSliceType.indexOf(o.Version)<0?(s.UrlLog.Error("need set version"),this):(this._CurrentSliceType=o.Category,this._ListSliceType.indexOf(this._CurrentSliceType)<0&&this._ListSliceType.push(this._CurrentSliceType),this._Category=e,this)}Router(e){return this._ListSliceType.indexOf(o.Category)<0?(s.UrlLog.Error("need set category"),this):(this._CurrentSliceType=o.Router,this._ListSliceType.indexOf(this._CurrentSliceType)<0&&this._ListSliceType.push(this._CurrentSliceType),this._Router=e,this._Router.length>=0&&(this._AppendList=[]),this)}Append(e){return this._ListSliceType.indexOf(o.Router)<0?(s.UrlLog.Error("need set router"),this):(this._CurrentSliceType=o.Append,this._ListSliceType.indexOf(this._CurrentSliceType)<0&&this._ListSliceType.push(this._CurrentSliceType),this._CurrentAppendIndex=this._AppendList.push(e),this)}End(){if(this._ListSliceType.indexOf(o.Description)<0)return s.UrlLog.Error("not set description"),this;if(this._ListSliceType.indexOf(o.Domain)<0)return s.UrlLog.Error("not set domain"),this;if(this._ListSliceType.indexOf(o.Manager)<0)return s.UrlLog.Error("not set manager"),this;if(this._ListSliceType.indexOf(o.Version)<0)return s.UrlLog.Error("not set version"),this;if(this._ListSliceType.indexOf(o.Category)<0)return s.UrlLog.Error("not set category"),this;if(this._ListSliceType.indexOf(o.Router)<0)return s.UrlLog.Error("not set router"),this;if(this._CurrentSliceType=o.End,this._IsEnd=!0,this._DomainIndex>this._Domains.length-1)return s.UrlLog.Error("domain error"),null;if(this._DomainIndex<0)return s.UrlLog.Error("domain switch error"),null;if(!this._Domains[this._DomainIndex])return s.UrlLog.Error("domain null"),null;this._Url=this._Http+this._Domains[this._DomainIndex]+"/"+this._Manager+"/"+this._Version+"/"+this._Category+"/"+this._Router;for(const e in this._AppendList)this._Url=this._Url+"/"+this._AppendList[e];if(Object.keys(this._Params).length>0){let e=!0;for(const t in this._Params){let i=this._Params[t];e?(e=!1,this._Url+="?"):this._Url+="&",this._Url+=t+"="+i}}return this}Value(){if(!0!==this._IsEnd)return s.UrlLog.Error("not set end yet"),null;if(this._MethodType.length<=0)return s.UrlLog.Error("not set method type"),null;switch(this._CurrentSliceType){case o.None:return"Error Url";case o.Method:return this._MethodType;case o.Domain:return this._Domains[this._DomainIndex];case o.Version:return this._Version;case o.Category:return this._Category;case o.Router:return this._Router;case o.Append:return this._AppendList.length>0?this._AppendList[this._CurrentAppendIndex]:"Error Append Param";case o.End:return this._Url}return null}CheckValue(){return this._Url}Data(){return this._Data}Post(e){return"post"!=this._MethodType?(s.UrlLog.Error("current method is not post"),null):(this._Data=e||"",this)}IsAsync(){return this._Async}EncodeURI(){return!1===this._IsEnd?(s.UrlLog.Error("not end"),""):encodeURI(this._Url)}Param(e,t){return this._Params[e]=t,this}static Post(e){let t=new a;return t._MethodType="post",t._Data=e,t}static Get(){let e=new a;return e._MethodType="get",e}Send(e){this._IsDebug&&console.log("url="+this._Url),this._AccountPass&&this._AccountPass.length>0&&this.RequestHeader("AccountPass",this._AccountPass),r.default.Request(n.SDK.Platform,this,3,this._IsDebug)}Clone(){let e=new a;e._ListSliceType=[];for(const t of this._ListSliceType)e._ListSliceType.push(t);e._Header={};for(const t in this._Header)e._Header[t]=this._Header[t];e._AccountPass=this._AccountPass,e._MethodType=this._MethodType,e._Http=this._Http,e._DomainIndex=this._DomainIndex,e._Domains=[];for(const t of this._Domains)e._Domains.push(t);e._Version=this._Version,e._Category=this._Category,e._Manager=this._Manager,e._Router=this._Router,e._AppendList=[];for(const t of this._AppendList)e._AppendList.push(t);return e._CurrentAppendIndex=this._CurrentAppendIndex,e._Url=this._Url,e._CurrentSliceType=this._CurrentSliceType,e._Async=this._Async,e._IsEnd=this._IsEnd,e._Data=JSON.parse(JSON.stringify(this._Data)),e._ReceiveCaller=null,e._ReceiveMethod=null,e._ErrorCaller=null,e._ErrorMethod=null,e._ExceptionCaller=null,e._ExceptionMethod=null,e}OnReceive(e,t){return this._ReceiveCaller=e,this._ReceiveMethod=t,this}InvokeReceive(e){this._ReceiveCaller&&this._ReceiveMethod?this._ReceiveMethod.call(this._ReceiveCaller,e):s.UrlLog.Warn("not bind receive callback")}OnError(e,t){return this._ErrorCaller=e,this._ErrorMethod=t,this}InvokeError(e){this._ErrorCaller&&this._ErrorMethod?this._ErrorMethod.call(this._ErrorCaller,e):s.UrlLog.Warn("not bind error callback")}OnException(e,t){return this._ExceptionCaller=e,this._ExceptionMethod=t,this}InvokeException(e){this._ExceptionCaller&&this._ExceptionMethod?this._ExceptionMethod.call(this._ExceptionCaller,e):s.UrlLog.Warn("not bind exception callback")}}a.AllUrls=[]},"./framework/Utility/VerifyUtility.ts":function(e,t,i){"use strict";i.r(t),i.d(t,"VerifyUtility",function(){return o});class o{static ToBoolean(e){return 1===e}}},"./sdk/Assist/Log.ts":function(e,t,i){"use strict";i.r(t),i.d(t,"Log",function(){return r});var o=i("./framework/Utility/LogUtility.ts");class r{static Log(e,...t){o.LogUtility.Instance.Log("YDHW_SDK",e,null,t)}static Debug(e,...t){o.LogUtility.Instance.Debug("YDHW_SDK",e,null,t)}static Info(e,...t){o.LogUtility.Instance.Info("YDHW_SDK",e,null,t)}static Warn(e,...t){o.LogUtility.Instance.Warn("YDHW_SDK",e,null,t)}static Error(e,...t){o.LogUtility.Instance.Error("YDHW_SDK",e,null,t)}}},"./sdk/Base/SDKPlatform.ts":function(e,t,i){"use strict";i.r(t),i.d(t,"SDKErrorInfo",function(){return a}),i.d(t,"SDKPlatform",function(){return l});var o=i("./framework/Define.ts"),r=i("./framework/Assist/StorageAdapter.ts"),s=i("./sdk/SDK/Declare.ts"),n=i("./framework/Utility/LogUtility.ts");class a{}class l{constructor(){this.Controller=null,this.Controller2=null,this.Config=null,this.Name="SDKPlatform",this.SystemInfo=null,this.BannerAdId="",this.BannerAd=null,this.BannerStyle=null,this.CallerOnResizeBannerAd=null,this.IsMisTouchBannerAd=!1,this.IsShowBannerAd=!1,this.RewardVideoAdId="",this.RewardVideoAd=null,this.IsShowRewardVideoAd=!1,this.InterstitialAdId="",this.InterstitialAd=null,this.UserInfoButton=null,this.IsSimulator=!1,this.NickName="",this.AvatarUrl="",this.Code="",this.OpenID="",this.AccountPass="",this.NetType="Get NetworkType failed!",this.Brand="",this.Model="",this.Resolution="",this.Env="",this.InviteAccount="",this.IsDebug=!1,this.IsWechat=!1,this.IsQQ=!1,this.IsOppo=!1,this.IsVivo=!1,this.IsToutiao=!1,this.IsBaidu=!1,this.Is4399=!1,this.IsQutoutiao=!1,this.Is360=!1,this.IsMomo=!1,this.IsXiaomi=!1,this.IsMeizu=!1,this.IsUC=!1,this.IsWeb=!1,this.IsAlipay=!1,this.IsQGMiniGame=!1,this.IsQQMiniGame=!1,this.IsOnMobile=!1,this.IsOnIOS=!1,this.IsOnIPhone=!1,this.IsOnMac=!1,this.IsOnIPad=!1,this.IsOnAndroid=!1,this.IsOnWP=!1,this.IsOnQQBrowser=!1,this.IsOnMQQBrowser=!1,this.IsOnWeiXin=!1,this.IsOnSafari=!1,this.IsOnPC=!1,this.IsCocosEngine=!1,this.IsLayaEngine=!1,this.Name=this.constructor.name,this.Config=window[r.StorageAdapter.SDK_CONFIG],this.IsDebug=Boolean(this.Config.debug),this.Env=String(this.Config.env),this.IsDebug=Boolean(this.Config.debug);let e=window.navigator.userAgent;this.IsOnMobile=!!window.isConchApp||e.indexOf("Mobile")>-1,this.IsOnIOS=!!e.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/),this.IsOnIPhone=e.indexOf("iPhone")>-1,this.IsOnMac=e.indexOf("Mac OS X")>-1,this.IsOnIPad=e.indexOf("iPad")>-1,this.IsOnAndroid=e.indexOf("Android")>-1||e.indexOf("Adr")>-1,this.IsOnWP=e.indexOf("Windows Phone")>-1,this.IsOnQQBrowser=e.indexOf("QQBrowser")>-1,this.IsOnMQQBrowser=e.indexOf("MQQBrowser")>-1||e.indexOf("Mobile")>-1&&e.indexOf("QQ")>-1,this.IsOnWeiXin=e.indexOf("MicroMessenger")>-1,this.IsOnSafari=e.indexOf("Safari")>-1,this.IsOnPC=!this.IsOnMobile,window.hasOwnProperty("wx")?window.hasOwnProperty("qq")&&(e.indexOf("MiniGame")>-1||e.indexOf("qqdevtools")>-1)?(this.IsDebug&&console.log("平台:QQ"),this.Controller=window.qq,this.PlatformType=o.EM_PLATFORM_TYPE.QQ,this.IsQQ=!0,this.IsQQMiniGame=!0,this.initPlatform()):e.indexOf("wechatdevtools")>-1?(this.IsDebug&&console.log("平台:微信开发者工具"),this.Controller=window.wx,this.IsSimulator="devtools"==this.Controller.getSystemInfoSync().platform,this.PlatformType=o.EM_PLATFORM_TYPE.Wechat,this.IsWechat=!0,this.initPlatform()):window.hasOwnProperty("tt")&&(e.indexOf("MiniGame")>-1||e.indexOf("bytedanceide")>-1)?(this.IsDebug&&console.log("平台:今日头条"),this.Controller=window.tt,this.PlatformType=o.EM_PLATFORM_TYPE.Toutiao,this.IsToutiao=!0,this.initPlatform()):e.indexOf("MiniGame")>-1&&(this.IsDebug&&console.log("平台:微信"),this.Controller=window.wx,this.IsSimulator="devtools"==this.Controller.getSystemInfoSync().platform,this.PlatformType=o.EM_PLATFORM_TYPE.Wechat,this.IsWechat=!0,this.initPlatform()):window.hasOwnProperty("qg")&&e.indexOf("OPPO")>-1?(this.IsDebug&&console.log("平台:Oppo"),this.Controller=window.qg,this.PlatformType=o.EM_PLATFORM_TYPE.Oppo,this.IsOppo=!0,this.IsQGMiniGame=!0,this.initPlatform()):window.hasOwnProperty("qg")&&e.indexOf("VVGame")>-1?(this.IsDebug&&console.log("平台:Vivo"),this.Controller=window.qg,this.PlatformType=o.EM_PLATFORM_TYPE.Vivo,this.IsVivo=!0,this.IsQGMiniGame=!0,this.initPlatform()):window.hasOwnProperty("swan")&&e.indexOf("SwanGame")>-1?(this.IsDebug&&console.log("平台:百度"),this.Controller=window.swan,this.PlatformType=o.EM_PLATFORM_TYPE.Baidu,this.IsBaidu=!0,this.initPlatform()):window.hasOwnProperty("4399")?this.IsDebug&&console.log("平台:4399"):window.hasOwnProperty("qu_tou_tiao")?this.IsDebug&&console.log("平台:趣头条"):window.hasOwnProperty("360")?this.IsDebug&&console.log("平台:360"):window.hasOwnProperty("momo")?this.IsDebug&&console.log("平台:陌陌"):e.indexOf("QuickGame")>-1?(this.IsDebug&&console.log("平台:小米"),this.Controller=window.qg,this.PlatformType=o.EM_PLATFORM_TYPE.Xiaomi,this.IsXiaomi=!0,this.IsQGMiniGame=!0):window.hasOwnProperty("mz")&&e.indexOf("MZ-")>-1?(this.IsDebug&&console.log("平台:魅族"),this.Controller2=window.mz,this.Controller=window.qg,this.PlatformType=o.EM_PLATFORM_TYPE.Meizu,this.IsMeizu=!0):window.hasOwnProperty("uc")?(this.IsDebug&&console.log("平台:UC"),this.Controller=window.uc,this.PlatformType=o.EM_PLATFORM_TYPE.UC,this.IsUC=!0,this.initPlatform()):window.hasOwnProperty("my")&&e.indexOf("AlipayMiniGame")>-1?(this.Controller=window.my,this.PlatformType=o.EM_PLATFORM_TYPE.Alipay,this.IsAlipay=!0):window.hasOwnProperty("document")&&e.indexOf("Mobile")<0?(this.IsDebug&&console.log("平台:"),this.Controller=window,this.PlatformType=o.EM_PLATFORM_TYPE.Web,this.IsWeb=!0):window.hasOwnProperty("document")&&e.indexOf("Mobile")>0?(this.Controller=window,this.PlatformType=o.EM_PLATFORM_TYPE.Web,this.IsWeb=!0):console.error("当前平台识别不出来,不知道是什么鬼:"+e),window[r.StorageAdapter.SDK_CONFIG]||console.error("缺少配置:"+r.StorageAdapter.SDK_CONFIG),this.IsCocosEngine=window.cc&&"object"==typeof window.cc&&"object"===window.cc.sys&&window.cc.sys.platform===window.cc.sys.WECHAT_GAME,this.IsLayaEngine=window.Laya&&"object"==typeof Laya&&"function"==typeof Laya.Browser&&"boolean"==typeof Laya.Browser.onWeiXin&&Laya.Browser.onWeiXin}initPlatform(){try{var e=this.Controller.getSystemInfoSync();console.warn("YDHW ---getSystemInfoSync:",JSON.stringify(e));let t=null;(t=this.PlatformType==o.EM_PLATFORM_TYPE.Vivo?e.osType:e.platform)&&("ios"==t?this.IsOnIOS=!0:"android"==t?this.IsOnAndroid=!0:"devtools"==t&&(this.IsSimulator=!0))}catch(e){console.log("获取系统信息失败")}}Initialize(){return this.GetSystemInfoSync(this,e=>{this.SystemInfo=e}),!0}Login(e,t,i){throw new Error("Login Method not implemented.")}IsHasAPI(e){let t=this.Controller[e];return!(!t||void 0===t||"function"!=typeof t)||(this.Warn("platform not exists api:"+e),!1)}IsHasAPI2(e){let t=this.Controller2[e];return!(!t||void 0===t||"function"!=typeof t)||(this.Warn("platform not exists api:"+e),!1)}LaunchInfo(){}GetSystemInfoSync(e,t){s.SDK.Platform.IsDebug&&console.log("SDKPlatform GetSystemInfoSync()")}OnFrontend(e,t){}OnBackend(e,t){}OnError(e,t){}CreateFeedbackButton(e,t){}ShowFeedbackButton(e){}ExitMiniProgram(){}TriggerGC(){}OnShare(e){}NavigateToMiniProgram(e,t,i,o,r,s){}CreateBannerAd(e,t,i,o,r,s,n){}RefreshBannerAd(){}CloseBannerAd(){this.BannerAd&&(this.BannerAd.destroy(),this.BannerAd=null)}SetBannerVisible(e){}ChangeBannerStyle(e){this.BannerAd&&e&&(e.left&&(this.BannerAd.style.left=e.left),e.top&&(this.BannerAd.style.top=e.top),e.width&&(this.BannerAd.style.width=e.width),e.height&&(this.BannerAd.style.height=e.height),this.BannerAd._style=e,this.BannerStyle=e)}CreateRewardVideoAd(e,t,i,o,r){}ShowRewardVideoAd(e,t,i){}CreateInterstitialAd(e,t,i,o,r){}ShowInterstitialAd(e,t){}ClearInterstitialAd(){}ShowUserInfoButton(e,t,i,o){}HideUserInfoButton(){}VibrateShort(){}VibrateLong(){}SetUserCloudStorage(e){}PostMessage(e){}CheckUpdate(){}GetNetworkType(e,t){}CreateVideo(e){return null}LoadSubpackage(e,t){return null}ShowLoading(){}HideLoading(){}ShowShare(e){}ShowModal(e){}Hook(e,t,i){try{let o=this.Controller[e];Object.defineProperty(this.Controller,e,{writable:!0}),this.Controller[e]=function(){let r=arguments.length,s=Array(r);for(let e=0;e<r;e++)s[e]=arguments[e];let n=o.apply(this,s);if("Function"==Object.prototype.toString.call(e).slice(8,-1))return i.call(t,s,n)},Object.defineProperty(this.Controller,e,{writable:!1}),this.Log("Hook Success name:"+e)}catch(t){this.Log("Hook Exception:"+t+" name:"+e)}}Log(e,...t){this.IsDebug&&n.LogUtility.Instance.Log("YDHW-SDK:"+this.Name,e,null,t)}Debug(e,...t){this.IsDebug&&n.LogUtility.Instance.Debug("YDHW-SDK:"+this.Name,e,null,t)}Info(e,...t){this.IsDebug&&n.LogUtility.Instance.Info("YDHW-SDK:"+this.Name,e,null,t)}Warn(e,...t){this.IsDebug&&n.LogUtility.Instance.Warn("YDHW-SDK:"+this.Name,e,null,t)}Error(e,...t){this.IsDebug&&n.LogUtility.Instance.Error("YDHW-SDK:"+this.Name,e,null,t)}}l.ERROR_DESCRIPTION={9000:{ErrCode:9e3,Description:"网络地址无效",SolutionHint:"暂无"},9001:{ErrCode:9001,Description:"没有访问凭证",SolutionHint:"暂无"},9002:{ErrCode:9002,Description:"访问凭证无效",SolutionHint:"暂无"},9003:{ErrCode:9003,Description:"客户端版本过低",SolutionHint:"暂无"},9004:{ErrCode:9004,Description:"数据校验不通过",SolutionHint:"暂无"},9999:{ErrCode:9999,Description:"系统异常",SolutionHint:"暂无"}}},"./sdk/Commerce/ToutiaoCommerce.ts":function(e,t,i){"use strict";i.r(t),i.d(t,"ToutiaoCommerce",function(){return l});var o=i("./sdk/Manager/CommerceMgr.ts"),r=i("./sdk/SDK/Declare.ts"),s=i("./sdk/SDK/EventDef.ts"),n=i("./sdk/Model/Toutiao.ts"),a=i("./framework/Define.ts");class l extends o.CommerceMgr{constructor(){super(...arguments),this.Platform=null,this.TemplateIdList=null,this.IsSharingStatus=!1}StatisticBanner(e,t){r.SDK.Statistic.InvokeMethod(s.SDK_NET_API.Banner,e,t,this,e=>{!0===e&&this.Log("StatisticBanner success")})}Initialize(){super.Initialize(),this.Name="YDHW-SDK:"+this.constructor.name,this.TemplateIdList=this.Config.tt_template_id_list,this.TemplateIdList&&void 0!==this.TemplateIdList||r.SDK.Platform.IsDebug&&console.error("YDHW_CONFIG.tt_template_id_list not exists"),this.Platform.OnFrontend(this,()=>{this.SwitchLog&&this.Log("OnFrontend"),this.OnFrontend()}),this.Platform.OnBackend(this,()=>{this.SwitchLog&&this.Log("OnBackend"),this.OnBackend()})}Login(e,t){this.Platform.Login(this,(i,o,r)=>{this.Code=i,i||(this.Code=r.anonymousCode,this.PkgName="anonymousCode"),this._InnerLogin(e,t)},i=>{this.Error("登录失败 Error:"+JSON.stringify(i)),e&&t.call(e,!1)}),r.SDK.Statistic_Api.InvokeMethod(s.COMMERCE_API.Login_Api,a.EM_PLATFORM_TYPE.Toutiao,null)}_ShareAppMessage(e,t,i,o,r,s,n,a,l,h,d){this.Platform.ShareAppMessage(t,i,o,r,s,n,a,this,()=>{e&&this.StatisticShareCard(e),l&&h&&h.call(l,!0),this._showShare=!0},e=>{this.Error("ShareAppMessage Error:"+e),l&&h&&h.call(l,!1),l&&d&&d.call(l,e),this._showShare=!1})}ShareImage(e,t,i,o){this._CurrentShareScene=e;let n="",l=null,h=null,d=this.Strategy.GetShareSceneConfig(e);if(d&&d.length>0){l=d[Math.floor(Math.random()*d.length)],h="account_id="+this.AccountId+"&sharecard_id="+l.id+"&from=stage_invite"}if(this.TemplateIdList&&this.TemplateIdList.length>0){let e=Math.floor(Math.random()*this.TemplateIdList.length);n=this.TemplateIdList[e]}l?this._ShareAppMessage(l.id,i,n,o,l.title,l.img,h,null,this,e=>{t&&t(e)},e=>{this.Error("ShareImage Error:"+e),t&&t(!1)}):this._ShareAppMessage(l.id,i,n,o,"","",h,null,this,e=>{t&&t(e)},e=>{this.Error("ShareImage Error:"+e),t&&t(!1)}),r.SDK.Statistic_Api.InvokeMethod(s.COMMERCE_API.ShareImage,a.EM_PLATFORM_TYPE.Toutiao,null)}ShareVideo(e,t,i,o){if(this.Platform.VideoPath){if(this.TemplateIdList&&this.TemplateIdList.length>0){let i=Math.floor(Math.random()*this.TemplateIdList.length),r=this.TemplateIdList[i],s=new n.ShareAppMessageExtra;s.videoTopics=[""],s.videoPath=this.Platform.VideoPath,this._ShareAppMessage(null,"video",r,t,e,"","",s,this,e=>{o&&o(e)})}}else this.Error("video is not exists"),o&&o(!1);r.SDK.Statistic_Api.InvokeMethod(s.COMMERCE_API.ShareVideo,a.EM_PLATFORM_TYPE.Toutiao,null)}ShareTemplate(e){if(this.TemplateIdList&&this.TemplateIdList.length>0){let t=Math.floor(Math.random()*this.TemplateIdList.length),i=this.TemplateIdList[t];this._ShareAppMessage(null,"",i,"","","","",null,this,t=>{e&&e(t)})}r.SDK.Statistic_Api.InvokeMethod(s.COMMERCE_API.ShareTemplate,a.EM_PLATFORM_TYPE.Toutiao,null)}ShareToken(e){if(this.TemplateIdList&&this.TemplateIdList.length>0){let t=Math.floor(Math.random()*this.TemplateIdList.length),i=this.TemplateIdList[t];this._ShareAppMessage(null,"token",i,"","","","",null,this,t=>{e&&e(t)})}r.SDK.Statistic_Api.InvokeMethod(s.COMMERCE_API.ShowMoreGamesModal,a.EM_PLATFORM_TYPE.Toutiao,null)}ShowMoreGamesModal(e){this.Platform.ShowMoreGamesModal(this,()=>{let e=[];return this.ListBoxConfig&&this.ListBoxConfig.length>0&&this.ListBoxConfig.forEach(t=>{"0"==t.type&&e.push({appId:t.toAppid,query:t.toUrl,extraData:{appid:this.AppId}})}),e},t=>{e&&e(t)},e=>{this.Error("ShowMoreGamesModal Error"+e)}),r.SDK.Statistic_Api.InvokeMethod(s.COMMERCE_API.ShowMoreGamesModal,a.EM_PLATFORM_TYPE.Toutiao,null)}CreateMoreGamesButton(e,t,i,o,n,l){this.Platform.CreateMoreGamesButton(e,t,i,this,()=>{let e=[];return this.ListBoxConfig&&this.ListBoxConfig.length>0&&this.ListBoxConfig.forEach(t=>{"0"==t.type&&e.push({appId:t.toAppid,query:t.toUrl,extraData:{appid:this.AppId}})}),e},e=>{o&&n&&n.call(o,e)},()=>{o&&l&&l.call(o)}),r.SDK.Statistic_Api.InvokeMethod(s.COMMERCE_API.CreateMoreGamesButton,a.EM_PLATFORM_TYPE.Toutiao,null)}RecorderStart(e,t,i,o,n,l,h,d){this.Platform.RecorderStart(e,this,t,i,o,n,l,h,d),r.SDK.Statistic_Api.InvokeMethod(s.COMMERCE_API.RecorderStart,a.EM_PLATFORM_TYPE.Toutiao,null)}RecorderStop(){this.Platform.RecorderStop(),r.SDK.Statistic_Api.InvokeMethod(s.COMMERCE_API.RecorderStop,a.EM_PLATFORM_TYPE.Toutiao,null)}RecorderPause(){this.Platform.RecorderPause(),r.SDK.Statistic_Api.InvokeMethod(s.COMMERCE_API.RecorderPause,a.EM_PLATFORM_TYPE.Toutiao,null)}RecorderResume(){this.Platform.RecorderResume(),r.SDK.Statistic_Api.InvokeMethod(s.COMMERCE_API.RecorderResume,a.EM_PLATFORM_TYPE.Toutiao,null)}GetPlatformUserInfo(e,t){this.Platform.GetPlatformUserInfo(this,i=>{e&&t.call(e,i)},i=>{this.Error("GetPlatformUserInfo Error:"+i),e&&t.call(e,null)}),r.SDK.Statistic_Api.InvokeMethod(s.COMMERCE_API.GetPlatformUserInfo,a.EM_PLATFORM_TYPE.Toutiao,null)}}},"./sdk/Config/SDKConfig.ts":function(e,t,i){"use strict";i.r(t),i.d(t,"SDKConfig",function(){return o});class o{}o.SceneWhiteList=[],o.DefaultIntervalForceRefreshBannerAd=10},"./sdk/Extensions/PowerSystem.ts":function(e,t,i){"use strict";i.r(t),i.d(t,"PowerInfo",function(){return n}),i.d(t,"PowerSystem",function(){return a});var o=i("./sdk/SDK/EventDef.ts"),r=i("./sdk/SDK/Declare.ts"),s=i("./framework/Utility/TimerUtility.ts");class n{}class a{constructor(){this._AutoRecoveryTimerId="PowerAutoRecoveryTimerId",this._CallerPowerChanged=null,this._ListenOnPowerChanged=null,this._OnCountDown=!1,this._CountDownTime=0,this._CurrentPowerNum=0}Initialize(){if(!r.SDK.Commerce.PowerSystemConfig||!1===r.SDK.Commerce.PowerSystemConfig.IsOn)return void r.SDK.Commerce.Log("Power System is off");let e=(new Date).getTime();this._CurrentPowerNum=r.SDK.Instance.GetValueT(o.SDK_VARS.TotalPowerCounter,-1);let t=r.SDK.Instance.GetValueT(o.SDK_VARS.LastPowerAddTimestamp,e);this._CountDownTime=r.SDK.Commerce.GetValueT(o.SDK_VARS.CountDownPro,0),this._OnCountDown=r.SDK.Commerce.GetValueT(o.SDK_VARS.OnCountDown,!1),r.SDK.Commerce.Log("total power:"+this._CurrentPowerNum);let i=r.SDK.Commerce.PowerSystemConfig.UpperLimit,s=r.SDK.Commerce.PowerSystemConfig.AutoRecoveryTime,n=this._CurrentPowerNum<0?r.SDK.Commerce.PowerSystemConfig.DefaultPowerValue:this._CurrentPowerNum;if(n<i&&e!==t){let a=Math.floor((e-t)/1e3);a=a<0?0:a;let l=Math.floor(a/s);n=(n+=l)>i?i:n,r.SDK.Commerce.Log(`timeSpace=${a}, getPowerNum=${l},totalPower=${n}`),r.SDK.Instance.SetValueT(o.SDK_VARS.LastPowerAddTimestamp,(new Date).getTime())}this.SetPower(n,o.EM_POWER_RECOVERY_TYPE.None)}SetPower(e,t){if(!1===r.SDK.Commerce.PowerSystemConfig.IsOn)return void r.SDK.Commerce.Log("PowerSystem is off");let i=r.SDK.Instance.GetValueT(o.SDK_VARS.TotalPowerCounter,0),a=r.SDK.Commerce.PowerSystemConfig.UpperLimit,l=r.SDK.Commerce.PowerSystemConfig.AutoRecoveryTime;this._CurrentPowerNum=e>a?a:e<0?0:e,r.SDK.Commerce.SetValueT(o.SDK_VARS.TotalPowerCounter,this._CurrentPowerNum),r.SDK.Commerce.SetValueT(o.SDK_VARS.LastPowerAddTimestamp,(new Date).getTime()),r.SDK.Commerce.Log("setPower-powerUpper:"+a+",recoveryTime:"+l+",_CurrentPowerNum:"+this._CurrentPowerNum),this._CurrentPowerNum<a?(this._CountDownTime=0==this._CountDownTime?l:this._CountDownTime,s.default.AddTimer(this._AutoRecoveryTimerId,1e3,this,null,()=>this._AddPowerAuto()),this._OnCountDown=!0):(s.default.RemoveTimer(this._AutoRecoveryTimerId),this._OnCountDown=!1,this._CountDownTime=0,r.SDK.Commerce.SetValueT(o.SDK_VARS.CountDownPro,this._CountDownTime)),r.SDK.Commerce.SetValueT(o.SDK_VARS.OnCountDown,this._OnCountDown);let h=i!=this._CurrentPowerNum;if(this._CallerPowerChanged&&this._ListenOnPowerChanged&&h){let e=new n;e.Type=t,e.PowerNum=this._CurrentPowerNum,e.CountDownPro=this._CountDownTime,e.OnCountDown=this._OnCountDown,this._CallerPowerChanged&&this._ListenOnPowerChanged&&this._ListenOnPowerChanged.call(this._CallerPowerChanged,e)}}_AddPowerAuto(){this._CountDownTime-=1;let e=this._CurrentPowerNum;if(this._CountDownTime<=0){e+=1;let t=r.SDK.Commerce.PowerSystemConfig.UpperLimit;return e=e>t?t:e<0?0:e,this.SetPower(e,o.EM_POWER_RECOVERY_TYPE.AutoRecovery),e===t}{r.SDK.Commerce.SetValueT(o.SDK_VARS.CountDownPro,this._CountDownTime);let t=new n;t.Type=o.EM_POWER_RECOVERY_TYPE.CountDown,t.PowerNum=e,t.CountDownPro=this._CountDownTime,t.OnCountDown=this._OnCountDown,this._CallerPowerChanged&&this._ListenOnPowerChanged&&this._ListenOnPowerChanged.call(this._CallerPowerChanged,t)}}GetPower(){return r.SDK.Commerce.GetValueT(o.SDK_VARS.TotalPowerCounter,0)}ListenOnPowerChange(e,t){this._CallerPowerChanged=e,this._ListenOnPowerChanged=t}}},"./sdk/Extensions/Strategy.ts":function(e,t,i){"use strict";i.r(t),i.d(t,"Strategy",function(){return l});var o=i("./sdk/Model/User.ts"),r=i("./sdk/SDK/Declare.ts"),s=i("./sdk/SDK/EventDef.ts"),n=i("./sdk/Model/Default.ts"),a=i("./framework/Utility/RandomUtility.ts");class l{constructor(e,t){this._ShareSceneConfig={},this.ModuleFalseList=[],this.ModuleList=[],this.CurrentShareVideoTypes=[],e.length>0&&(this.ModuleList=[],e.forEach(e=>{let t=new o.ShareVideoModule;t._id=e._id,t.channel=e.channel,t.version=e.version,t.module=e.module,t.type=e.type,t.videoNum=e.videoNum,t.shareNum=e.shareNum,t.remarks=e.remarks,t.strategy=e.strategy,t.loopIndex=0,t.logic=e.logicJson&&e.logicJson.length>0?JSON.parse(e.logicJson):null,this.ModuleList.push(t)})),t.length>0&&(this.ModuleFalseList=[],t.forEach(e=>{let t=new o.ShareVideoModuleFalse;t._id=e._id,t.strategyId=0,t.timeId=0,t.count=0,t.strategies=e.strategyjson.length>0?JSON.parse(e.strategyjson):null,t.tips=e.trickJson.length>0?JSON.parse(e.trickJson):null,this.ModuleFalseList.push(t)})),r.SDK.Instance.DeclareVariable(s.SDK_VARS.ShareConfig,this._ShareSceneConfig)}ShowShareVideo(e,t,i,r){let n=this.getUnUseStrategy(e,t,!1);if(n)return void(i&&r&&r.call(i,n.type));if(this.ModuleList&&0==this.ModuleList.length)return void(i&&r&&r.call(i,0));let a=!1;this.ModuleList.every(s=>{if(s.channel===e&&s.module===t&&s.logic){let e=new o.UnUseShareVideoModule;if(e.channel=s.channel,e.module=s.module,a=!0,s.logic.pe&&s.logic.pe.length>0){let t=s.logic.pe.shift();return e.type=t,this.CurrentShareVideoTypes.push(e),i&&r&&r.call(i,t),!1}if(s.logic.loop&&s.logic.loop.length>0&&s.logic.time&&s.logic.time>0){let t=s.logic.loop[s.loopIndex];return s.loopIndex+=1,s.loopIndex>=s.logic.loop.length&&(s.loopIndex=0,s.logic.time-=1),e.type=t,this.CurrentShareVideoTypes.push(e),i&&r&&r.call(i,t),!1}}return!0}),!1===a&&i&&r&&r.call(i,s.EM_SHARE_TYPE.None)}getUnUseStrategy(e,t,i){if(this.CurrentShareVideoTypes.length>0)for(let o=0;o<this.CurrentShareVideoTypes.length;o++){let r=this.CurrentShareVideoTypes[o];if(r.channel==e&&r.module==t){let e=r;return i&&(e=this.CurrentShareVideoTypes.splice(o,1)[0]),r}}return null}UseShareVideoStrategy(e,t,i,o){let r=this.getUnUseStrategy(e,t,!0);r?i&&o&&o.call(i,r.type):i&&o&&o.call(i,s.EM_SHARE_TYPE.None)}InitShareConfig(e,t){let i=this;""===e?t.forEach(e=>{if(i._ShareSceneConfig[e.scene]){let t=i._ShareSceneConfig[e.scene],o=!1;for(let i=0,r=t.length;i<r;i++){if(t[i].id==e.id){o=!0;break}}o||t.push(e),i._ShareSceneConfig[e.scene]=t}else{let t=[];t.push(e),i._ShareSceneConfig[e.scene]=t}}):this._ShareSceneConfig[e]=t}IsHasShareScene(e){return!!this._ShareSceneConfig[e]}GetShareSceneConfig(e){return this._ShareSceneConfig[e]}GetShareStrategy(e,t){let i=null;return this.ModuleFalseList&&this.ModuleFalseList.length>0&&e&&t&&this.ModuleList&&this.ModuleList.length>0&&(r.SDK.Commerce.Log("getSharingStrategy-channel,module:",e,t),this.ModuleList.every(o=>(o.type&&o.channel&&o.module&&o.channel==e&&o.module==t&&this.ModuleFalseList.forEach(e=>{if(e._id==Number(o.type))return i=e,!1}),!0))),i}GetShareResult(e,t,i){let o=!1,s=new n.ShareBackInfo;let l=(new Date).getTime()-e.showTime,h=this.GetShareStrategy(e.channel,e.module);if(h){let e=h.strategyId,t=h.strategies[e],i=h.timeId;if(r.SDK.Commerce.Log("假分享策略:["+e+" - "+i+"],time_space:"+l,JSON.stringify(t)),t.time&&i<t.time.length){let e=t.time[i],r=t.prob[i];if(e&&e.length>1)for(let t=1;t<e.length;t++)if(l>=e[t-1]&&l<=e[t]){let e=r[t-1];o=a.RandomUtility.Probability(e)}else if(t==e.length-1&&l>e[t]){let e=r[t];o=a.RandomUtility.Probability(e)}}i+=1,o?(h.timeId=0,h.count+=1):(i>=t.time.length?(h.timeId=0,h.count+=1):h.timeId=i,s.IsSuccess=!1,s.IsHasStrategy=!0,s.Tips=h.tips),h.count>=t.num&&(h.count=0,h.strategyId=this._GetNextStrategy(h,e)),this._SetSharingStategy(h)}else r.SDK.Commerce.Log("真分享(time_space > 3000)?:"+l),l>3e3?o=!0:(s.IsSuccess=!1,s.IsHasStrategy=!1);t&&i&&i.call(t,s)}_GetNextStrategy(e,t){let i=t+1;r.SDK.Commerce.Log("nextStrategyId:"+i),i>=e.strategies.length&&(i=0);let o=e.strategies[i];return 0==o.num&&(r.SDK.Commerce.Log("num:"+o.num),i=this._GetNextStrategy(e,i)),i}_SetSharingStategy(e){for(let t=0;t<this.ModuleFalseList.length;t++){if(this.ModuleFalseList[t]._id&&e._id){this.ModuleFalseList[t]=e;break}}}GetDeepMisTouch(e){if(!1===r.SDK.Commerce.SwitchTouch)return!1;if(r.SDK.Commerce.DeveloperAccountConfig.IsOn&&r.SDK.Commerce.DeveloperAccountConfig.Accounts.length>0){let e=r.SDK.Commerce.DeveloperAccountConfig.Accounts;for(let t=0;t<e.length;t++)if(e[t]==r.SDK.Commerce.AccountId+"")return r.SDK.Commerce.Log(`In whiteList:${e[t]}`),!0}return!!this._IsHasMistouchTimer()&&this._IsDepthShield(e)}_IsHasMistouchTimer(){if(r.SDK.Commerce.TimingMisTouchSwitchConfig){if(!r.SDK.Commerce.TimingMisTouchSwitchConfig.IsOn)return!0;let e=r.SDK.Commerce.TimingMisTouchSwitchConfig,t=e.StartTimeHour||0,i=e.StartTimeMinute||0,o=e.EndTimeHour||23,s=e.EndTimeMinute||59,n=new Date,a=n.getHours(),l=n.getMinutes();return r.SDK.Commerce.Log(`checkMistouchTimer- ${t}:${i} > ${a}:${l} < ${o}:${s}`),!!(a<t||a==t&&l<=i||a>o||a==o&&l>=s)}return!1}_IsDepthShield(e){if(r.SDK.Commerce.DeepSheildRuleConfig){let t="_IsDepthShield-",i=r.SDK.Commerce.DeepSheildRuleConfig,o=i.CustomNumberCounter||0;if(r.SDK.Commerce.Log(t+"depthShield.Type:"+i.Type),0==i.Type)return!this._IsGoodUser(i);if(1==i.Type){let e=r.SDK.Instance.GetValueT(s.SDK_VARS.TotalCustomNumberCounter,0),t=r.SDK.Instance.GetValueT(s.SDK_VARS.TodayCustomNumberCounter,0);return r.SDK.Commerce.Log(`TotalCustomNumberCounter > totalCustoms: ${e} > ${i.CustomNumberCounter}`),(!i.CustomNumberCounter||e>i.CustomNumberCounter)&&(r.SDK.Commerce.Log(`toalByTodayNum > dayCustoms: ${t} > ${i.DayCustomNumber[0]}`),(!i.CustomNumberCounter||t>i.DayCustomNumber[0])&&!this._IsGoodUser(i))}if(2==i.Type){if((e||0===e)&&(r.SDK.Commerce.Log(`customNum >= totalCustoms: ${e} >= ${o}`),e>=o)){if(!i.DayCustomNumber||0==i.DayCustomNumber.length)return r.SDK.Commerce.Log("depthShield.dayCustoms is null or empty"),!1;if(r.SDK.Commerce.Log(`${e} == ${o} || ((${e} > ${o}) && ((${e} - ${o}) % (${i.DayCustomNumber[0]} + 1)) == 0)`),e==o||e>o&&(e-o)%(i.DayCustomNumber[0]+1)==0)return!this._IsGoodUser(i)}return r.SDK.Commerce.Log("customNum is "+e),!1}}}_IsGoodUser(e){r.SDK.Commerce.Log("_IsGoodUser:"+e.ExecellentUserSwitch);let t=!0;if(e.ExecellentUserSwitch&&(e.WatchVideoCounter||0===e.WatchVideoCounter)){let i=r.SDK.Instance.GetValueT(s.SDK_VARS.TodayWatchVideoCounter);r.SDK.Commerce.Log(`isGoodUser--${i} > ${e.WatchVideoCounter}`),t=i>e.WatchVideoCounter}return t}IsUnlockVideo(e){let t=!1;if(r.SDK.Commerce.VideoUnlockLevelConfig){let i=r.SDK.Commerce.VideoUnlockLevelConfig.CustomNumber||0,o=r.SDK.Commerce.VideoUnlockLevelConfig.IntervalCount||0;if(r.SDK.Commerce.VideoUnlockLevelConfig.IsOn)if(e==i||e>i&&(e-i)%(o+1)==0){let i=r.SDK.Instance.GetValueT(s.SDK_VARS.ListUnlockVideoLevelNumber,[]);i&&i.length>0&&i.forEach(i=>{e==i&&(t=!0)})}else t=!0;else t=!0,r.SDK.Commerce.Log("视频解锁关卡开关-关闭,开启所有关卡");r.SDK.Commerce.Log(`IsUnlockVideo-index:${e} customNumber:${i} intervalCount=${o} unlock=${t}`)}return t}}},"./sdk/Extensions/YDHWCache.ts":function(e,t,i){"use strict";i.r(t),i.d(t,"YDHWCache",function(){return n});var o=i("./sdk/SDK/Declare.ts"),r=i("./sdk/SDK/EventDef.ts"),s=i("./sdk/Model/Default.ts");class n{constructor(){this.JumpOutInfo=null,o.SDK.Instance.DeclareVariable(r.SDK_VARS.JumpOutInfo,new s.JumpOutInfo)}RemoveItemFrom(e){let t=o.SDK.Instance.GetValueT(r.SDK_VARS.JumpOutInfo,null);if(o.SDK.Commerce.ListBoxConfig&&o.SDK.Commerce.ListBoxConfig.length>0&&o.SDK.Commerce.SideBoxCount<o.SDK.Commerce.ListBoxConfig.length){for(let i=0;i<o.SDK.Commerce.ListBoxConfig.length;i++){let r=o.SDK.Commerce.ListBoxConfig[i];if(r.toAppid===e&&0==r.innerStatus){o.SDK.Commerce.Log("隐藏对应appid的所有icon--id:"+r._id),o.SDK.Commerce.ListBoxConfig.splice(i,1);let n=!1;for(let i=0;i<t.List.length;i++)t.List[i].appid==e&&(n=!0);n||t.List.push(new s.AppInfo(e)),t.Date=(new Date).getTime()}}o.SDK.Instance.SetValueT(r.SDK_VARS.JumpOutInfo,t)}}}},"./sdk/Manager/AgentMgr.ts":function(e,t,i){"use strict";i.r(t),i.d(t,"AgentMgr",function(){return l});var o=i("./framework/Manager/AgentManager.ts"),r=i("./sdk/SDK/Declare.ts"),s=i("./sdk/Base/SDKPlatform.ts"),n=i("./sdk/Assist/Log.ts"),a=i("./sdk/SDK/EventDef.ts");class l extends o.AgentManager{Initialize(){super.Initialize(),this._UrlEdit=r.SDK.Domain.Clone().RequestHeader("Content-Type","application/json;charset=UTF-8").Description("用户信息更新").Category("user").Router("info").Append("edit").End(),this.DeclareMethod(a.SDK_NET_API.Edit,this,(e,t,i)=>{this._UrlEdit.AsPost().Post(e).OnReceive(this,e=>{if(0===e.code)t&&i&&i.call(t,e.result);else{r.SDK.Platform.IsDebug&&n.Log.Error("server say:"+e.info);let t=s.SDKPlatform.ERROR_DESCRIPTION[e.code];r.SDK.Platform.IsDebug&&t&&n.Log.Error("MyInfo Error:"+t.Description+",提示:"+t.SolutionHint)}}).OnError(this,e=>{r.SDK.Platform.IsDebug&&n.Log.Error("Error=",e)}).OnException(this,e=>{r.SDK.Platform.IsDebug&&n.Log.Error("Exception=",e)}).Send()}),this._UrlMyInfo=r.SDK.Domain.Clone().RequestHeader("Content-Type","application/x-www-form-urlencoded").Description("服务端信息").Category("user").Router("my").Append("info").End(),this.DeclareMethod(a.SDK_NET_API.MyInfo,this,(e,t)=>{this._UrlMyInfo.AsGet().OnReceive(this,i=>{if(r.SDK.Platform.IsDebug&&n.Log.Log("response=",i),0===i.code)e&&t&&t.call(e,i.result);else{r.SDK.Platform.IsDebug&&n.Log.Error("server say:"+i.info);let e=s.SDKPlatform.ERROR_DESCRIPTION[i.code];r.SDK.Platform.IsDebug&&e&&n.Log.Error("MyInfo Error:"+e.Description+",提示:"+e.SolutionHint)}}).OnError(this,e=>{r.SDK.Platform.IsDebug&&n.Log.Error("Error=",e)}).OnException(this,e=>{r.SDK.Platform.IsDebug&&n.Log.Error("Exception=",e)}).Send()}),this._UrlLogin=r.SDK.Domain.Clone().RequestHeader("Content-Type","application/json;charset=UTF-8").Description("用户登录").Category("user").Router("login").End(),this.DeclareMethod(a.SDK_NET_API.Login,this,(e,t,i,o)=>{this._UrlLogin.AsPost().Post(e).OnReceive(this,e=>{if(r.SDK.Platform.IsDebug&&n.Log.Log("response=",e),0===e.code)t&&i&&i.call(t,e.result);else{r.SDK.Platform.IsDebug&&n.Log.Error("server say:"+e.info);let i=s.SDKPlatform.ERROR_DESCRIPTION[e.code];r.SDK.Platform.IsDebug&&i&&console.log("Login 错误:"+i.Description+",提示:"+i.SolutionHint),t&&o&&o.call(t)}}).OnError(this,e=>{r.SDK.Platform.IsDebug&&n.Log.Error("Error=",e)}).OnException(this,e=>{r.SDK.Platform.IsDebug&&n.Log.Error("Exception=",e)}).Send()}),this.Debug("Edit Url="+this._UrlEdit.CheckValue()),this.Debug("MyInfo Url="+this._UrlMyInfo.CheckValue()),this.Debug("Login Url="+this._UrlLogin.CheckValue())}}},"./sdk/Manager/ApiMgr.ts":function(e,t,i){"use strict";i.r(t),i.d(t,"ApiMgr",function(){return c});var o=i("./framework/Manager/ApiManager.ts"),r=i("./sdk/SDK/EventDef.ts"),s=i("./sdk/SDK/Declare.ts"),n=i("./framework/Define.ts"),a=i("./sdk/Model/Statistic.ts"),l=i("./framework/Utility/TimerUtility.ts"),h=i("./sdk/Assist/Log.ts"),d=i("./sdk/Base/SDKPlatform.ts");class c extends o.ApiManager{constructor(){super(...arguments),this._ApiStatisticUploadTimeId="_ApiStatisticUploadTimeId",this.pendingMsgList=[],this._CurrentCallIndex=1,this._CounterList={}}Initialize(){for(var e in super.Initialize(),this.DeclareVariable(r.SDK_VARS.PendingApiCounterList,{}).Store(),this.DeclareVariable(r.SDK_VARS.BatchID,0).Store(),this._UrApiFinal=s.SDK.Domain.Clone().RequestHeader("Content-Type","application/json;charset=UTF-8").Description("接口调用统计-强制").Category("statistics").Router("sdk").Append("final").End(),this._UrlApi=s.SDK.Domain.Clone().RequestHeader("Content-Type","application/json;charset=UTF-8").Description("接口调用统计").Category("statistics").Router("sdk").End(),this.DeclareNotify(r.SDK_EVT.OnFrontend,this,()=>{this.getLocalApiCountList()}),this.DeclareNotify(r.SDK_EVT.OnBackend,this,()=>{0!=this.pendingMsgList.length&&(this.SetValueT(r.SDK_VARS.PendingApiCounterList,this.pendingMsgList),this.pendingMsgList=[])}),this.DeclareMethod(r.SDK_NET_API.Statistic_Api,this,(e,t,i)=>{this._UrlApi.AsPost().Post({appid:s.SDK.Commerce.AppId,accountId:s.SDK.Commerce.AccountId,infos:e}).OnReceive(this,o=>{if(s.SDK.Platform.IsDebug&&h.Log.Log("Sdk Response=",o),0===o.code)t&&i&&i.call(t,!0);else{s.SDK.Platform.IsDebug&&h.Log.Error("server say:"+o.info);let r=d.SDKPlatform.ERROR_DESCRIPTION[o.code];s.SDK.Platform.IsDebug&&r&&h.Log.Error("Sdk Error:"+r.Description+",提示:"+r.SolutionHint),this._UrApiFinal.AsGet().Param("appid",s.SDK.Commerce.AppId).Param("accountId",s.SDK.Commerce.AccountId).Param("infos",e).End().OnReceive(this,e=>{if(s.SDK.Platform.IsDebug&&h.Log.Log("SdkFinal response=",e),0===e.code)t&&i&&i.call(t,!0);else{s.SDK.Platform.IsDebug&&h.Log.Error("server say:"+e.info);let o=d.SDKPlatform.ERROR_DESCRIPTION[e.code];s.SDK.Platform.IsDebug&&o&&h.Log.Error("SdkFinal Error:"+o.Description+",提示:"+o.SolutionHint),t&&i&&i.call(t,!1)}}).OnError(this,e=>{s.SDK.Platform.IsDebug&&h.Log.Error("Error=",e)}).OnException(this,e=>{s.SDK.Platform.IsDebug&&h.Log.Error("Exception=",e)}).Send()}}).OnError(this,e=>{s.SDK.Platform.IsDebug&&h.Log.Error("Error=",e)}).OnException(this,e=>{s.SDK.Platform.IsDebug&&h.Log.Error("Exception=",e)}).Send()}),l.default.AddTimer(this._ApiStatisticUploadTimeId,5e3,this,null,()=>this.UploadStatisticSdk()),r.COMMERCE_API){let t=r.COMMERCE_API[e];this.DeclareMethod(t,this,e=>{let i=this.GetValueT(r.SDK_VARS.BatchID),o=(new Date).getTime();this._CounterList[t]?this._CounterList[t]++:this._CounterList[t]=1;let s=new a.SdkInfo;s.index=this._CurrentCallIndex,this._CurrentCallIndex++,s.count=this._CounterList[t],s.name=t,s.platform=this.getPlatformName(e),s.time=o,s.wholesaleId=i,this.pendingMsgList.push(s)})}}UploadStatisticSdk(){return 0!=this.pendingMsgList.length&&(s.SDK.Statistic.InvokeMethod(r.SDK_NET_API.Statistic_Api,this.pendingMsgList,this,e=>{!0===e&&(this.pendingMsgList=[])}),!1)}getPlatformName(e){let t="";for(var i in n.EM_PLATFORM_TYPE){e==n.EM_PLATFORM_TYPE[i]&&(t=""+i)}return t}Restore(){super.Restore(),this.getLocalApiCountList(),this.AddValueT(r.SDK_VARS.BatchID,1),this._CurrentCallIndex=1}getLocalApiCountList(){let e=this.GetValueT(r.SDK_VARS.PendingApiCounterList,[]);e.length>0&&(this.pendingMsgList=e)}}},"./sdk/Manager/CommerceMgr.ts":function(e,t,i){"use strict";i.r(t),i.d(t,"CommerceMgr",function(){return C});var o=i("./framework/Manager/CommerceManager.ts"),r=i("./framework/Assist/StorageAdapter.ts"),s=i("./sdk/SDK/Declare.ts"),n=i("./sdk/Model/User.ts"),a=i("./framework/Utility/VerifyUtility.ts"),l=i("./framework/Utility/Url.ts"),h=i("./sdk/SDK/EventDef.ts"),d=i("./sdk/Model/Data.ts"),c=i("./sdk/Config/SDKConfig.ts"),u=i("./sdk/Model/Default.ts"),S=i("./framework/Utility/TimerUtility.ts"),g=i("./sdk/Extensions/Strategy.ts"),m=i("./sdk/Model/Statistic.ts"),_=i("./sdk/Extensions/YDHWCache.ts"),f=i("./sdk/Extensions/PowerSystem.ts"),D=i("./framework/Define.ts");class C extends o.CommerceManager{constructor(){super(...arguments),this.Config=null,this._Platform=null,this.Strategy=null,this.Cache=null,this.PowerSystem=null,this.AppId="",this.AppKey="",this.PkgName="",this.Version="",this.SceneId=0,this.SwitchTouch=!1,this.SwitchPush=!1,this.SwitchLog=!1,this.SwitchLogin=!1,this.SwitchJump=!1,this.SwitchShare=!1,this.SwitchVideo=!1,this.SwitchEvent=!1,this.SwitchLayer=!1,this.SwitchResult=!1,this.IsLowVersion=!1,this.IsRealVersion=!1,this.VideoFalseLimit=0,this.ShareFalseLimit=0,this.LastLoginTime=0,this.ListCustomConfig=null,this.ListBoxConfig=null,this.ListLayer=null,this.BannerAdUnitIdList=null,this.InterstitialAdUnitIdList=null,this.SpreadAdUnitIdList=null,this.NativeAdUnitIdList=null,this.VideoAdUnitIdList=null,this.BannerRefreshConfig=null,this.PowerSystemConfig=null,this.VideoUnlockLevelConfig=null,this.DeepSheildRuleConfig=null,this.TimingMisTouchSwitchConfig=null,this.DeveloperAccountConfig=null,this._LastTimeRefreshBannerAd=0,this._BannerAdDelayTimerId="",this._IsSmallBannerAd=!1,this._UnlockCustomNumber=0,this._CallerRewardVideoAd=null,this._EvtOnCloseRewardVideoAd=null,this._IsAddPower=!1,this._IsRewardVideoAdFinish=!1,this._RewardVideoDelayTimerId="",this.InterstitialAdFirstShowWaitTime=0,this.InterstitialAdShowTimeInterval=0,this._LastTimeCreateInterstitialAd=0,this._CurrentShareScene="",this._CallerShareCardBack=null,this._EvtOnShareCardBack=null,this._ShareAppInfo=null,this.SideBoxCount=20,this._LastPlayTime=(new Date).getTime(),this._showShare=!1,this._showVideoAd=!1,this._showInterstitialAd=!1,this._interstitialAdWaitShow=!1,this._showBannerAd=!1,this._showMoreGameView=!1,this._bannerId="",this._GridId="",this._localLayerList=null,this._ResolutionWidth=0,this._resolutionHeight=0,this._ScaleType=0}_InnerLogin(e,t){this._Platform.IsDebug&&console.log("CommerceMgr InnerLogin()"),this._LastTimeCreateInterstitialAd=(new Date).getTime(),this._Platform.GetNetworkType(this,e=>{this._Platform.NetType=e,this._Platform.IsDebug&&console.log("GetNetworkType = ",e)});let i=new n.LoginRequest;i.platform=this._Platform.PlatformType+"",i.appid=this.AppId,i.version=this.Version,i.code=this.Code,i.pkgName=this.PkgName;let o=this.ShareInfo();this._Platform.IsDebug&&console.log("shareInfo=",o),i.shareInfo=o;let r=new n.ClientInfo;r.uuid="",r.platform=this._Platform.PlatformType+"",r.brand=this._Platform.Brand,r.version=this.Version,r.model=this._Platform.Model,r.appName="",r.resolution=this._Platform.Resolution,i.clientInfo=r,s.SDK.Instance.InvokeMethod(h.SDK_NET_API.Login,i,this,i=>{this._Platform.IsDebug&&console.log("login result:",i),this.AccountId=i.accountId,this.NickName=i.nickName||"",this.AvatarUrl=i.avatarUrl||"",this.IsNewPlayer=a.VerifyUtility.ToBoolean(i.newPlayer),this.OpenID=i.openid||"",this.AccountPass=i.accountPass||"",l.Url.SetAllUrlAccountPass(this.AccountPass),this.IsNewPlayer,this.SwitchTouch=a.VerifyUtility.ToBoolean(i.switchTouch)||!1,this.SwitchPush=a.VerifyUtility.ToBoolean(i.switchPush)||!1,this.SwitchLog=a.VerifyUtility.ToBoolean(i.switchLog)||!1,this.SwitchLogin=a.VerifyUtility.ToBoolean(i.switchLogin)||!1,this.SwitchJump=a.VerifyUtility.ToBoolean(i.switchJump)||!1,this.SwitchShare=a.VerifyUtility.ToBoolean(i.switchShare)||!1,this.SwitchVideo=a.VerifyUtility.ToBoolean(i.switchVideo)||!1,this.SwitchEvent=a.VerifyUtility.ToBoolean(i.switchEvent)||!1,this.SwitchLayer=a.VerifyUtility.ToBoolean(i.switchLayer)||!1,this.SwitchResult=a.VerifyUtility.ToBoolean(i.switchResult)||!1,this.IsLowVersion=a.VerifyUtility.ToBoolean(i.isLowVersion)||!1,this.IsRealVersion=a.VerifyUtility.ToBoolean(i.isRealVersion)||!1,this.VideoFalseLimit=i.videoFalseLimit||0,this.ShareFalseLimit=i.shareFalseLimit||0;let o=i.moduleFalseList||[],r=i.moduleList||[];this.Strategy=new g.Strategy(r,o),s.SDK.Instance.InvokeMethod(h.SDK_NET_API.Config,this,i=>{i.forEach(e=>{let t=JSON.parse(e.value);if("b_t_s"==e.code)this.BannerRefreshConfig=new d.BannerRefreshConfig,this.BannerRefreshConfig.IsOn=a.VerifyUtility.ToBoolean(t[0]),this.BannerRefreshConfig.Interval=t[1]||10,this.BannerRefreshConfig.IsForceRefresh=a.VerifyUtility.ToBoolean(t[2]),this.BannerRefreshConfig.MinimumInterval=t[3]||3;else if("power"==e.code)this.PowerSystemConfig=new d.PowerSystemConfig,this.PowerSystemConfig.DefaultPowerValue=t[0]||5,this.PowerSystemConfig.UpperLimit=t[1]||5,this.PowerSystemConfig.AutoRecoveryTime=t[2]||300,this.PowerSystemConfig.VideoPowerWeight=t[3]||1,this.PowerSystemConfig.IsOn=a.VerifyUtility.ToBoolean(t[4]);else if("v_u_c"==e.code)this.VideoUnlockLevelConfig=new d.VideoUnlockLevelConfig,this.VideoUnlockLevelConfig.IsOn=a.VerifyUtility.ToBoolean(t[0]),this.VideoUnlockLevelConfig.CustomNumber=t[1]||2,this.VideoUnlockLevelConfig.IntervalCount=t[2]||0;else if("dp_s"==e.code)this.DeepSheildRuleConfig=new d.DeepSheildRuleConfig,this.DeepSheildRuleConfig.Type=t[0]||0,this.DeepSheildRuleConfig.CustomNumberCounter=t[1]||5,this.DeepSheildRuleConfig.ExecellentUserSwitch=a.VerifyUtility.ToBoolean(t[2]),this.DeepSheildRuleConfig.WatchVideoCounter=t[3]||2,this.DeepSheildRuleConfig.DayCustomNumber=t[4]||0;else if("m_t"==e.code)this.TimingMisTouchSwitchConfig=new d.TimingMisTouchSwitchConfig,this.TimingMisTouchSwitchConfig.IsOn=a.VerifyUtility.ToBoolean(t[0]),this.TimingMisTouchSwitchConfig.StartTimeHour=t[1]||0,this.TimingMisTouchSwitchConfig.StartTimeMinute=t[2]||0,this.TimingMisTouchSwitchConfig.EndTimeHour=t[3]||23,this.TimingMisTouchSwitchConfig.EndTimeMinute=t[4]||0;else if("d_a"==e.code){this.DeveloperAccountConfig=new d.DeveloperAccountConfig,this.DeveloperAccountConfig.IsOn=a.VerifyUtility.ToBoolean(t[0]);for(let e=1,i=t.length;e<i;e++)this.DeveloperAccountConfig.Accounts.push(t[e])}}),this.PowerSystem.Initialize(),e&&t.call(e,!0)})},()=>{e&&t&&t.call(e,!1)}),this._Platform.IsDebug&&console.log("SDKPlatform InnerLogin() end")}Initialize(){super.Initialize(),this.Name="YDHW-SDK:"+this.Name,this.Cache=new _.YDHWCache,this.PowerSystem=new f.PowerSystem,this.Config=window[r.StorageAdapter.SDK_CONFIG],this.AppId=String(this.Config.appid),this.AppKey=String(this.Config.appkey),this.PkgName=String(this.Config.pkg_name),this.Version=String(this.Config.version),this.SwitchLog=this._Platform.IsDebug,this.BannerAdUnitIdList=this.Config.banner_ad_unit_id_list,this.InterstitialAdFirstShowWaitTime=Number(this.Config.interstitialAd_first_show_wait_time)||0,this.InterstitialAdShowTimeInterval=Number(this.Config.interstitialAd_show_time_interval)||0,this.SideBoxCount=Number(this.Config.side_box_count)||0,this.BannerAdUnitIdList&&void 0!==this.BannerAdUnitIdList||this._Platform.IsDebug&&console.error("YDHW_CONFIG.banner_ad_unit_id_list not exists"),this.InterstitialAdUnitIdList=this.Config.interstitial_ad_unit_id_list,this.InterstitialAdUnitIdList&&void 0!==this.InterstitialAdUnitIdList||this._Platform.IsDebug&&console.error("YDHW_CONFIG.interstitial_ad_unit_id_list not exists"),this.SpreadAdUnitIdList=this.Config.spread_ad_unit_id_list,this.SpreadAdUnitIdList&&void 0!==this.SpreadAdUnitIdList||this._Platform.IsDebug&&console.error("YDHW_CONFIG.spread_ad_unit_id_list not exists"),this.NativeAdUnitIdList=this.Config.native_ad_unit_id_list,this.NativeAdUnitIdList&&void 0!==this.NativeAdUnitIdList||this._Platform.IsDebug&&console.error("YDHW_CONFIG.native_ad_unit_id_list not exists"),this.VideoAdUnitIdList=this.Config.video_ad_unit_id_list,this.VideoAdUnitIdList&&void 0!==this.VideoAdUnitIdList||this._Platform.IsDebug&&console.error("YDHW_CONFIG.video_ad_unit_id_list not exists"),this._ResolutionWidth=Number(this.Config.resolution_width)||0,this._resolutionHeight=Number(this.Config.resolution_height)||0,this._ScaleType=Number(this.Config.scale_type)||0,this.DeclareVariable(h.SDK_VARS.TotalPowerCounter,-1).Store(),this.DeclareVariable(h.SDK_VARS.LastPowerAddTimestamp,(new Date).getTime()).Store(),this.DeclareVariable(h.SDK_VARS.TodayWatchVideoCounter,0).Store(),this.DeclareVariable(h.SDK_VARS.LastWatchVideoTimestamp,(new Date).getTime()).Store(),this.DeclareVariable(h.SDK_VARS.ListUnlockVideoLevelNumber,[]).Store(),this.DeclareVariable(h.SDK_VARS.MaxCustomNumber,0).Store(),this.DeclareVariable(h.SDK_VARS.LastCustomNumber,0).Store(),this.DeclareVariable(h.SDK_VARS.TodayCustomNumberCounter,0).Store(),this.DeclareVariable(h.SDK_VARS.TotalCustomNumberCounter,0).Store(),this.DeclareVariable(h.SDK_VARS.LastPlayTimestamp,(new Date).getTime()),this.DeclareVariable(h.SDK_VARS.ListUnlockVideoLevelNumber,[]).Store(),this.DeclareVariable(h.SDK_VARS.VideoFalseLimit,0).Store(),this.DeclareVariable(h.SDK_VARS.ShareFalseLimit,0).Store(),this.DeclareVariable(h.SDK_VARS.PlatformUserInfo,null),this.DeclareVariable(h.SDK_VARS.ListStatisticsLayer,null).Store(),this.DeclareVariable(h.SDK_VARS.CountDownPro,0).Store(),this.DeclareVariable(h.SDK_VARS.OnCountDown,!1).Store()}_AddUnlockVideoLevelNumber(e){if(!e)return;this.AddValueT(h.SDK_VARS.TodayWatchVideoCounter,1),this.SetValueT(h.SDK_VARS.LastWatchVideoTimestamp,(new Date).getTime());let t=this.GetValueT(h.SDK_VARS.ListUnlockVideoLevelNumber,[]);-1==t.indexOf(e)&&(this.SwitchLog&&this.Log("AddUnlockLevelNumber index="+e),t.push(e),this.SetValueT(h.SDK_VARS.ListUnlockVideoLevelNumber,t))}LoginAddress(){return s.SDK.Statistic_Api.InvokeMethod(h.COMMERCE_API.LoginAddress,D.EM_PLATFORM_TYPE.Common,null),""}Login(e,t){}GetLeftTopBtnPosition(){return s.SDK.Statistic_Api.InvokeMethod(h.COMMERCE_API.GetLeftTopBtnPosition,D.EM_PLATFORM_TYPE.Common,null),null}ShareInfo(){return s.SDK.Statistic_Api.InvokeMethod(h.COMMERCE_API.ShareInfo,D.EM_PLATFORM_TYPE.Common,null),null}StatisticBanner(e,t){s.SDK.Statistic.InvokeMethod(h.SDK_NET_API.Banner,e,t,this,t=>{!0===t&&this.Log("StatisticBanner success type:"+e)})}StatisticVideo(e,t){s.SDK.Statistic.InvokeMethod(h.SDK_NET_API.Video,e,t,this,t=>{!0===t&&this.Log("StatisticVideo success type:"+e)})}StatisticInterstitial(e,t){s.SDK.Statistic.InvokeMethod(h.SDK_NET_API.InterstitialAd,e,t,this,t=>{!0===t&&this.Log("StatisticInterstitial success type:"+e)})}StatisticGrid(e,t){s.SDK.Statistic.InvokeMethod(h.SDK_NET_API.GridAd,e,t,this,t=>{!0===t&&this.Log("StatisticGrid success type:"+e)})}StatisticAppBox(e,t){s.SDK.Statistic.InvokeMethod(h.SDK_NET_API.AppBoxAd,e,t,this,t=>{!0===t&&this.Log("StatisticAppBox success type:"+e)})}StatisticBlock(e,t){s.SDK.Statistic.InvokeMethod(h.SDK_NET_API.BlockAd,e,t,this,t=>{!0===t&&this.Log("StatisticBlock success type:"+e)})}StatisticNativeAd(e,t){s.SDK.Statistic.InvokeMethod(h.SDK_NET_API.NativeAd,e,t,this,t=>{!0===t&&this.Log("StatisticNativeAd success type:"+e)})}StatisticSdk(e){s.SDK.Statistic.InvokeMethod(h.SDK_NET_API.Statistic_Api,e,this,e=>{!0===e&&this.Log("StatisticSdk success")})}StatisticResult(e){s.SDK.Statistic.InvokeMethod(h.SDK_NET_API.Result,e,this,e=>{!0===e&&this.Log("StatisticResult success")}),s.SDK.Statistic_Api.InvokeMethod(h.COMMERCE_API.StatisticResult,D.EM_PLATFORM_TYPE.Common,null)}StatisticEvent(e,t){if(this.InvokeMethod(h.COMMERCE_API.StatisticEvent,D.EM_PLATFORM_TYPE.Common),!1===this.SwitchEvent&&"LayerOn"!==t)return void(this.SwitchLog&&this.Log("StatisticEvent is stop by SwitchEvent"));let i=new u.StatisticEventRequest;i.event=e,i.scene=t,i.time=(new Date).getTime(),s.SDK.Statistic.InvokeMethod(h.SDK_NET_API.Event,[i],this,e=>{!0===e&&this.Log("StatisticEvent success")}),s.SDK.Statistic_Api.InvokeMethod(h.SDK_NET_API.Event,[i],this,e=>{}),s.SDK.Statistic_Api.InvokeMethod(h.COMMERCE_API.StatisticEvent,D.EM_PLATFORM_TYPE.Common,null)}StatisticDuration(){let e=(new Date).getTime()-this._LastPlayTime;s.SDK.Statistic.InvokeMethod(h.SDK_NET_API.Duration,0,e,this,e=>{!0===e&&this.Log("StatisticDuration success")})}StatisticClickOut(e){e?e.iconId?e.action?(s.SDK.Statistic.InvokeMethod(h.SDK_NET_API.ClickOut,e,this,e=>{!0===e&&this.Log("StatisticClickOut success")}),s.SDK.Statistic_Api.InvokeMethod(h.COMMERCE_API.StatisticClickOut,D.EM_PLATFORM_TYPE.Common,null)):this.Log("StatisticClickOut request.action is null"):this.Log("StatisticClickOut request.iconId is null"):this.Log("StatisticClickOut request is null")}RefreshLastPlayTime(){this._LastPlayTime=(new Date).getTime()}ShowShareOrVideo(e,t,i,o){e?t?(this.Strategy&&this.Strategy.ShowShareVideo(e,t,i,o),s.SDK.Statistic_Api.InvokeMethod(h.COMMERCE_API.ShowShareOrVideo,D.EM_PLATFORM_TYPE.Common,null)):this.Error("module is null"):this.Error("channel is null")}UseShareOrVideoStrategy(e,t,i,o){e?t?(this.Strategy&&this.Strategy.UseShareVideoStrategy(e,t,i,o),s.SDK.Statistic_Api.InvokeMethod(h.COMMERCE_API.UseShareOrVideoStrategy,D.EM_PLATFORM_TYPE.Common,null)):this.Error("module is null"):this.Error("channel is null")}SwitchView(e){if(!this._Platform.BannerAd&&this.SwitchLog)this.Warn("BannerAd is null");else if(this.BannerRefreshConfig&&this.BannerRefreshConfig.IsForceRefresh){let e=(new Date).getTime();e-(this._LastTimeRefreshBannerAd||e)>=1e3*(this.BannerRefreshConfig.MinimumInterval||c.SDKConfig.DefaultIntervalForceRefreshBannerAd)&&(this._Platform.IsShowBannerAd?this._CreateBannerAd(this._IsSmallBannerAd,this._Platform.IsMisTouchBannerAd,!0,this._Platform.BannerStyle,this._Platform.OnResizeBannerAd,null,null):this._LastTimeRefreshBannerAd=e-(1e3*this.BannerRefreshConfig.MinimumInterval+1e3))}s.SDK.Statistic_Api.InvokeMethod(h.COMMERCE_API.SwitchView,D.EM_PLATFORM_TYPE.Common,null)}GetDeepTouchInfo(e){let t=this.Strategy&&this.Strategy.GetDeepMisTouch(e);this.SwitchLog&&this.Log("GetDeepTouchInfo:",t,e);let i=new u.DeepTouchInfo;return i.deepTouch=!!t,this.ListCustomConfig&&this.ListCustomConfig.length>0&&this.ListCustomConfig.forEach(e=>{t||(1==parseInt(e.type)?e.value="":2==parseInt(e.type)&&(e.value="0")),i.ListCustomInfo.push(e)}),s.SDK.Statistic_Api.InvokeMethod(h.COMMERCE_API.GetDeepTouchInfo,D.EM_PLATFORM_TYPE.Common,null),i}GetCustomConfig(e,t){this.ListCustomConfig?e&&t&&t.call(e,this.ListCustomConfig):s.SDK.Data.InvokeMethod(h.SDK_NET_API.CustomConfig,this,i=>{this.ListCustomConfig=i,ydhw.SwitchTouch||this.ListCustomConfig.forEach(e=>{1==parseInt(e.switchTouchUse)&&(1==parseInt(e.type)?e.value="":2==parseInt(e.type)&&(e.value="0"))}),e&&t&&t.call(e,this.ListCustomConfig)}),s.SDK.Statistic_Api.InvokeMethod(h.COMMERCE_API.GetCustomConfig,D.EM_PLATFORM_TYPE.Common,null)}GameOver(e){this.SetValueT(h.SDK_VARS.LastCustomNumber,e),e>this.GetValueT(h.SDK_VARS.MaxCustomNumber,0)&&this.SetValueT(h.SDK_VARS.MaxCustomNumber,e),this.AddValueT(h.SDK_VARS.TodayCustomNumberCounter,1),this.AddValueT(h.SDK_VARS.TotalCustomNumberCounter,1),this.SetValueT(h.SDK_VARS.LastPlayTimestamp,(new Date).getTime()),s.SDK.Statistic_Api.InvokeMethod(h.COMMERCE_API.GameOver,D.EM_PLATFORM_TYPE.Common,null)}IsUnlockVideo(e){return s.SDK.Statistic_Api.InvokeMethod(h.COMMERCE_API.IsUnlockVideo,D.EM_PLATFORM_TYPE.Common,null),this.Strategy&&this.Strategy.IsUnlockVideo(e)}GetPowerInfo(){return this.PowerSystemConfig?(s.SDK.Statistic_Api.InvokeMethod(h.COMMERCE_API.GetPowerInfo,D.EM_PLATFORM_TYPE.Common,null),this.PowerSystemConfig):(this.Error("GetPowerInfo error: PowerInfo is null"),null)}ListenOnPowerChanged(e,t){this.PowerSystem.ListenOnPowerChange(e,t),s.SDK.Statistic_Api.InvokeMethod(h.COMMERCE_API.ListenOnPowerChanged,D.EM_PLATFORM_TYPE.Common,null)}AddPower(e){if(this.PowerSystemConfig&&!1!==this.PowerSystemConfig.IsOn){if(this.PowerSystemConfig){let t=s.SDK.Commerce.GetValueT(h.SDK_VARS.TotalPowerCounter,0),i=this.PowerSystemConfig.VideoPowerWeight;e==h.EM_POWER_RECOVERY_TYPE.WatchVideo?t+=i:e==h.EM_POWER_RECOVERY_TYPE.AutoRecovery&&(t+=1),this.PowerSystem&&this.PowerSystem.SetPower(t,e)}}else this.SwitchLog&&this.Warn("Power System is Off")}SetPower(e,t){this.PowerSystemConfig&&!1!==this.PowerSystemConfig.IsOn?(this.PowerSystem&&this.PowerSystem.SetPower(e,t),s.SDK.Statistic_Api.InvokeMethod(h.COMMERCE_API.SetPower,D.EM_PLATFORM_TYPE.Common,null)):this.SwitchLog&&this.Warn("Power System is Off")}GetPower(){return s.SDK.Statistic_Api.InvokeMethod(h.COMMERCE_API.GetPower,D.EM_PLATFORM_TYPE.Common,null),this.PowerSystem&&this.PowerSystem.GetPower()}GetSideBox(e,t){this.ListBoxConfig&&e&&t&&t.call(e,this.ListBoxConfig),s.SDK.Data.InvokeMethod(h.SDK_NET_API.SideBox,this,i=>{this.ListBoxConfig=i,e&&t&&t.call(e,this.ListBoxConfig)}),s.SDK.Statistic_Api.InvokeMethod(h.COMMERCE_API.GetSideBox,D.EM_PLATFORM_TYPE.Common,null)}GetScoreBoardList(e,t){s.SDK.Data.InvokeMethod(h.SDK_NET_API.ScoreBoard,"scoreboard",e,t),s.SDK.Statistic_Api.InvokeMethod(h.COMMERCE_API.GetScoreBoardList,D.EM_PLATFORM_TYPE.Common,null)}GetScoreBoardAward(e,t,i){s.SDK.Data.InvokeMethod(h.SDK_NET_API.GetBoardAward,"scoreboard",e,t,i),s.SDK.Statistic_Api.InvokeMethod(h.COMMERCE_API.GetScoreBoardAward,D.EM_PLATFORM_TYPE.Common,null)}ShareCard(e,t,i){this._CurrentShareScene=""!==e?e:"default",s.SDK.Instance.InvokeMethod(h.SDK_NET_API.Data_ShareCard,e,this,o=>{this.Strategy.InitShareConfig(e,o),t&&i&&i.call(t,o)}),s.SDK.Statistic_Api.InvokeMethod(h.COMMERCE_API.ShareCard,D.EM_PLATFORM_TYPE.Common,null)}GetTodayBoutCount(){let e=this.GetValueT(h.SDK_VARS.TodayCustomNumberCounter,0);return s.SDK.Statistic_Api.InvokeMethod(h.COMMERCE_API.GetTodayBoutCount,D.EM_PLATFORM_TYPE.Common,null),e}GetTotalBoutCount(){let e=this.GetValueT(h.SDK_VARS.TotalCustomNumberCounter,0);return s.SDK.Statistic_Api.InvokeMethod(h.COMMERCE_API.GetTotalBoutCount,D.EM_PLATFORM_TYPE.Common,null),e}GetLastBountNumber(){let e=this.GetValueT(h.SDK_VARS.LastCustomNumber,0);return s.SDK.Statistic_Api.InvokeMethod(h.COMMERCE_API.GetLastBountNumber,D.EM_PLATFORM_TYPE.Common,null),e}GetMaxBountNumber(){let e=this.GetValueT(h.SDK_VARS.MaxCustomNumber,0);return s.SDK.Statistic_Api.InvokeMethod(h.COMMERCE_API.GetMaxBountNumber,D.EM_PLATFORM_TYPE.Common,null),e}GetTodayWatchVideoCounter(){let e=this.GetValueT(h.SDK_VARS.TodayWatchVideoCounter,0);return s.SDK.Statistic_Api.InvokeMethod(h.COMMERCE_API.GetTodayWatchVideoCounter,D.EM_PLATFORM_TYPE.Common,null),e}_CreateBannerAd(e,t,i,o,r,s,n){if(console.warn("YDHW -C--_CreateBannerAd:",e,JSON.stringify(o)),this.BannerAdUnitIdList&&0!=this.BannerAdUnitIdList.length){this._Platform.BannerAd&&(this._Platform.CloseBannerAd(),this._showBannerAd=!1);let a=this,l=Math.floor(Math.random()*this.BannerAdUnitIdList.length),d=this.BannerAdUnitIdList[l];this._Platform.CreateBannerAd(e,d,t,o,this,n),this.StatisticBanner(h.EM_STATISTIC_TYPE.CREATE,d),this._bannerId=d;let c=this.BannerRefreshConfig&&this.BannerRefreshConfig.IsOn;c&&(this._IsSmallBannerAd=e),this._Platform.BannerAd.onLoad(function(){a.SwitchLog&&a.Log("广告加载成功"),a.StatisticBanner(h.EM_STATISTIC_TYPE.LOAD_SUCCESS,d),i&&a.ShowBannerAd(),r&&s&&s.call(r,!0)}),this._Platform.BannerAd.onError(l=>{if(a.StatisticBanner(h.EM_STATISTIC_TYPE.LOAD_FAIL,d),a.SwitchLog&&a.Error("onError事件里:"+JSON.stringify(l)),this._Platform.CloseBannerAd(),this._showBannerAd=!1,c){let l=a.BannerRefreshConfig.Interval;a.SwitchLog&&a.Log(`将在${l}秒后重新创建banner(调用ylBannerAdHide会取消重试`),S.default.RemoveDelayTimer(a._BannerAdDelayTimerId),a._BannerAdDelayTimerId=S.default.Delay(1e3*l,a,()=>{a._CreateBannerAd(e,t,i,o,n,r,s)}),r&&s&&s.call(r,!1)}})}else this.Error("BannerAdUnitIdList is empty.")}CreateBannerAd(e,t,i,o){this._Platform.BannerStyle=null,this._CreateBannerAd(!1,e,t,null,i,o,null),s.SDK.Statistic_Api.InvokeMethod(h.COMMERCE_API.CreateBannerAd,D.EM_PLATFORM_TYPE.Common,null)}CreateSmallBannerAd(e,t,i,o){this._Platform.BannerStyle=null,this._CreateBannerAd(!0,e,t,null,i,o,null),s.SDK.Statistic_Api.InvokeMethod(h.COMMERCE_API.CreateSmallBannerAd,D.EM_PLATFORM_TYPE.Common,null)}CreateCustomBannerAd(e,t,i,o,r,n){this._Platform.BannerStyle=i,this._CreateBannerAd(!1,e,t,i,o,r,n),s.SDK.Statistic_Api.InvokeMethod(h.COMMERCE_API.CreateCustomBannerAd,D.EM_PLATFORM_TYPE.Common,null)}BannerAdChangeSize(e){this._Platform.ChangeBannerStyle(e),s.SDK.Statistic_Api.InvokeMethod(h.COMMERCE_API.BannerAdChangeSize,D.EM_PLATFORM_TYPE.Common,null)}ShowBannerAd(){console.warn("YDHW -C--ShowBannerAd"),this.SwitchLog&&this.Log("ShowBannerAd");let e=(new Date).getTime(),t=this._LastTimeRefreshBannerAd||e,i=!1,o=!1,r=0,n=!1;if(this.BannerRefreshConfig&&(o=this.BannerRefreshConfig.IsOn||!1,r=this.BannerRefreshConfig.Interval||c.SDKConfig.DefaultIntervalForceRefreshBannerAd),console.warn("YDHW -C--ShowBannerAd-this._Platform.BannerAd:",this._Platform.BannerAd),this._Platform.BannerAd){o&&(i=this._IsSmallBannerAd||!1);let r=e-t>=1e3*c.SDKConfig.DefaultIntervalForceRefreshBannerAd;o&&r&&(this.SwitchLog&&this.Log("ShowBannerAd CreateBannerAd"),n=!0,this._CreateBannerAd(i,this._Platform.IsMisTouchBannerAd,!0,this._Platform.BannerStyle,this._Platform.OnResizeBannerAd,null,null)),console.warn("YDHW -C--ShowBannerAd-(!create):",!n),n||(this._Platform.SetBannerVisible(!0),this._showBannerAd=!0),this._LastTimeRefreshBannerAd=e}console.warn("YDHW -C--ShowBannerAd-(!create && IsOn):",!n&&o),!n&&o&&(this.SwitchLog&&this.Log(`将在${r}秒后重新创建banner`),S.default.RemoveDelayTimer(this._BannerAdDelayTimerId),this._BannerAdDelayTimerId=S.default.Delay(1e3*r,this,()=>{this._CreateBannerAd(i,this._Platform.IsMisTouchBannerAd,!0,this._Platform.BannerStyle,this._Platform.OnResizeBannerAd,null,null)})),s.SDK.Statistic_Api.InvokeMethod(h.COMMERCE_API.ShowBannerAd,D.EM_PLATFORM_TYPE.Common,null)}HideBannerAd(){console.warn("YDHW -C--HideBannerAd"),this.SwitchLog&&this.Log("HideBannerAd"),this._Platform.SetBannerVisible(!1),S.default.RemoveDelayTimer(this._BannerAdDelayTimerId),this._BannerAdDelayTimerId="",s.SDK.Statistic_Api.InvokeMethod(h.COMMERCE_API.HideBannerAd,D.EM_PLATFORM_TYPE.Common,null)}ChangeBannerStyle(e){this._Platform.ChangeBannerStyle(e),this.InvokeMethod(h.COMMERCE_API.ChangeBannerStyle,D.EM_PLATFORM_TYPE.Common),s.SDK.Statistic_Api.InvokeMethod(h.COMMERCE_API.ChangeBannerStyle,D.EM_PLATFORM_TYPE.Common,null)}CreateRewardVideoAd(){if(this.VideoAdUnitIdList&&0!=this.VideoAdUnitIdList.length){if(!this._Platform.RewardVideoAd){let e=this,t=Math.floor(Math.random()*this.VideoAdUnitIdList.length),i=this.VideoAdUnitIdList[t];this._Platform.CreateRewardVideoAd(i,this,()=>{e._IsRewardVideoAdFinish=!0,S.default.RemoveDelayTimer(e._RewardVideoDelayTimerId),e._RewardVideoDelayTimerId="",this.StatisticVideo(h.EM_STATISTIC_TYPE.LOAD_SUCCESS,i)},t=>{e._LastTimeCreateInterstitialAd=(new Date).getTime(),t&&t.isEnded||void 0===t?(e.SwitchLog&&e.Log("视频播放完成"),e._CallerRewardVideoAd&&e._EvtOnCloseRewardVideoAd&&e._EvtOnCloseRewardVideoAd.call(e._CallerRewardVideoAd,h.EM_VIDEO_PLAY_TYPE.VIDEO_PLAY_FINISH),e._AddUnlockVideoLevelNumber(e._UnlockCustomNumber),e.StatisticVideo(h.EM_STATISTIC_TYPE.PLAY_FINISH,i),e._IsAddPower&&e._AddPowerByVideo()):(e._CallerRewardVideoAd&&e._EvtOnCloseRewardVideoAd&&e._EvtOnCloseRewardVideoAd.call(e._CallerRewardVideoAd,h.EM_VIDEO_PLAY_TYPE.VIDEO_PLAY_CANCEL),e.SwitchLog&&e.Log("视频播放中途取消"),this.StatisticVideo(h.EM_STATISTIC_TYPE.PLAY_CANCEL,i)),e._UnlockCustomNumber=null,e._EvtOnCloseRewardVideoAd=null,e._showVideoAd=!1},t=>{e.SwitchLog&&e.Log("RewardVideoAd onError:",t),this.StatisticVideo(h.EM_STATISTIC_TYPE.LOAD_FAIL,i),e._CallerRewardVideoAd&&e._EvtOnCloseRewardVideoAd&&e._EvtOnCloseRewardVideoAd.call(e._CallerRewardVideoAd,h.EM_VIDEO_PLAY_TYPE.VIDEO_PLAY_FAIL),e._EvtOnCloseRewardVideoAd=null,e._UnlockCustomNumber=null,e._showVideoAd=!1,e._LastTimeCreateInterstitialAd=(new Date).getTime()}),this.StatisticVideo(h.EM_STATISTIC_TYPE.CREATE,i)}}else this.Error("VideoAdUnitIdList is empty.");s.SDK.Statistic_Api.InvokeMethod(h.COMMERCE_API.CreateRewardVideoAd,D.EM_PLATFORM_TYPE.Common,null)}ShowRewardVideoAd(e,t,i,o){let r=this;this._IsRewardVideoAdFinish=!1,this._UnlockCustomNumber=e,this._CallerRewardVideoAd=i,this._EvtOnCloseRewardVideoAd=o,this._IsAddPower=t||!1,(this._Platform.RewardVideoAd||(this.CreateRewardVideoAd(),this._Platform.RewardVideoAd))&&(this._Platform.ShowRewardVideoAd(this,()=>{r.SwitchLog&&r.Log("视频播放成功"),r._showVideoAd=!0,r._IsRewardVideoAdFinish=!0,S.default.RemoveDelayTimer(r._RewardVideoDelayTimerId),r._RewardVideoDelayTimerId=""},()=>{r.SwitchLog&&r.Error("视频播放失败"),r._CallerRewardVideoAd&&r._EvtOnCloseRewardVideoAd&&r._EvtOnCloseRewardVideoAd.call(r._CallerRewardVideoAd,h.EM_VIDEO_PLAY_TYPE.VIDEO_PLAY_FAIL),r._EvtOnCloseRewardVideoAd=null,r._showVideoAd=!1,r._LastTimeCreateInterstitialAd=(new Date).getTime()}),0==this._RewardVideoDelayTimerId.length&&(this._RewardVideoDelayTimerId=S.default.Delay(4e3,this,()=>{!1===this._IsRewardVideoAdFinish&&this._EvtOnCloseRewardVideoAd&&(r.SwitchLog&&r.Log("4秒内回调检测判断无广告返回，则触发回调传回播放失败"),r._CallerRewardVideoAd&&r._EvtOnCloseRewardVideoAd&&r._EvtOnCloseRewardVideoAd.call(r._CallerRewardVideoAd,h.EM_VIDEO_PLAY_TYPE.VIDEO_PLAY_FAIL),r._EvtOnCloseRewardVideoAd=null)})),s.SDK.Statistic_Api.InvokeMethod(h.COMMERCE_API.ShowRewardVideoAd,D.EM_PLATFORM_TYPE.Common,null))}StatisticShareCard(e){s.SDK.Data.InvokeMethod(h.SDK_NET_API.Statistic_ShareCard,e,this,e=>{}),s.SDK.Statistic_Api.InvokeMethod(h.COMMERCE_API.StatisticShareCard,D.EM_PLATFORM_TYPE.Common,null)}GetLayerList(e){s.SDK.Instance.InvokeMethod(h.SDK_NET_API.Data_Layer,this,t=>{this.ListLayer=t;let i=this.GetValueT(h.SDK_VARS.ListStatisticsLayer,null);i&&(this._localLayerList=i),e&&e(t)}),s.SDK.Statistic_Api.InvokeMethod(h.COMMERCE_API.GetLayerList,D.EM_PLATFORM_TYPE.Common,null)}NavigateToMiniProgram(e,t,i,o,r,n){let a=o||"default",l=new m.ClickOutRequest;l.iconId=e,l.target=t,l.souce=a,this._Platform.NavigateToMiniProgram(this.AppId,t,i,this,()=>{this.SwitchLog&&this.Log("小游戏跳转-跳转成功！"),l.action="enable",this.InvokeMethod(h.SDK_NET_API.ClickOut,l,null),this.Cache.RemoveItemFrom(t),r&&n&&n.call(r,!0)},()=>{this.SwitchLog&&this.Log("小游戏跳转-跳转失败！"),l.action="cancel",this.InvokeMethod(h.SDK_NET_API.ClickOut,l,null),r&&n&&n.call(r,!1)}),s.SDK.Statistic_Api.InvokeMethod(h.COMMERCE_API.NavigateToMiniProgram,D.EM_PLATFORM_TYPE.Common,null)}ShowUserInfoButton(e,t,i){this.SwitchLog&&this.Log("ShowUserInfoButton"),this._Platform.ShowUserInfoButton(e,this,e=>{this.Log("ShowUserInfoButton"),this.SetValueT(h.SDK_VARS.PlatformUserInfo,e),t&&i&&i.call(t,e)},e=>{this.Warn("ShowUserInfoButton error: "+e),t&&i&&i.call(t,null)}),s.SDK.Statistic_Api.InvokeMethod(h.COMMERCE_API.ShowUserInfoButton,D.EM_PLATFORM_TYPE.Common,null)}HideUserInfoButton(){this._Platform.HideUserInfoButton(),s.SDK.Statistic_Api.InvokeMethod(h.COMMERCE_API.HideUserInfoButton,D.EM_PLATFORM_TYPE.Common,null)}_IsCanCreateInterstitialAd(){let e=((new Date).getTime()-this._LastTimeCreateInterstitialAd)/1e3,t=!1;if(this.SwitchLog&&this.Log("CreateIntertitialAd interval:",e),this._Platform.InterstitialAd){t=e>=(this.InterstitialAdFirstShowWaitTime||0)}else{t=e>=(this.InterstitialAdShowTimeInterval||0)}return t||this.SwitchLog&&this.Warn("创建插屏广告太频繁，请稍后再试"),t}CreateInterstitialAd(e,t,i,o,r){console.warn("YDHW -C--CreateInterstitialAd-isShow:",e);(new Date).getTime();if(this._Platform.InterstitialAd&&this._interstitialAdWaitShow)return void this.ShowInterstitialAd();if(!this.InterstitialAdUnitIdList||0==this.InterstitialAdUnitIdList.length)return void(this.SwitchLog&&this.Log("InterstitialAdUnitIdList is empty"));if(!this._IsCanCreateInterstitialAd())return void(t&&r&&r.call(t));let n=this,a=Math.floor(Math.random()*this.InterstitialAdUnitIdList.length),l=this.InterstitialAdUnitIdList[a];this._Platform.InterstitialAd&&this._Platform.ClearInterstitialAd(),this.StatisticInterstitial(h.EM_STATISTIC_TYPE.CREATE,l),this._Platform.CreateInterstitialAd(l,this,()=>{n.StatisticInterstitial(h.EM_STATISTIC_TYPE.LOAD_SUCCESS,l),e?n.ShowInterstitialAd():t&&i&&i.call(t),n.SwitchLog&&n.Log("InterstitialAd OnLoad")},e=>{n.StatisticInterstitial(h.EM_STATISTIC_TYPE.CLOSE,l),t&&o&&o.call(t,e),n._showInterstitialAd=!1,n._LastTimeCreateInterstitialAd=(new Date).getTime()},e=>{n.StatisticInterstitial(h.EM_STATISTIC_TYPE.LOAD_FAIL,l),n.SwitchLog&&n.Warn("InterstistAd Error:"+e+" adId:"+l),t&&r&&r.call(t,e),n._showInterstitialAd=!1,n._LastTimeCreateInterstitialAd=(new Date).getTime()}),s.SDK.Statistic_Api.InvokeMethod(h.COMMERCE_API.CreateInterstitialAd,D.EM_PLATFORM_TYPE.Common,null)}ShowInterstitialAd(){this._Platform.InterstitialAd?(this._interstitialAdWaitShow=!0,this._Platform.ShowInterstitialAd(this,()=>{this._showInterstitialAd=!0,this._interstitialAdWaitShow=!1,this.StatisticInterstitial(h.EM_STATISTIC_TYPE.SHOW,this._Platform.InterstitialAdId)}),s.SDK.Statistic_Api.InvokeMethod(h.COMMERCE_API.ShowInterstitialAd,D.EM_PLATFORM_TYPE.Common,null)):this._interstitialAdWaitShow=!1}GetSharingResults(e,t,i){e&&this.Strategy&&this.Strategy.GetShareResult(e,this,e=>{this.Warn("Sharing Results"),t&&i.call(t,e)}),s.SDK.Statistic_Api.InvokeMethod(h.COMMERCE_API.GetSharingResults,D.EM_PLATFORM_TYPE.Common,null)}StatisticLayer(e){let t=(new Date).getTime();if(this._localLayerList){let e=this._localLayerList.get_time;e&&this.isToday(e)||(this._localLayerList=null)}let i=this._localLayerList,o=!1;if(i&&i.s_layers){o=i.s_layers.indexOf(e)>0}let r=this.ListLayer,n=!1,a=-1;for(let t=0;t<r.length;t++){if(r[t].layerPath==e){n=!0,a=t;break}}if(n&&-1!=a){if(!o){if(i&&i.get_time&&i.s_layers)s.SDK.Statistic.InvokeMethod(h.SDK_NET_API.Statistic_Layer,e,this,e=>{}),this._localLayerList.get_time=t,this._localLayerList.s_layers.push(e);else for(let e=0;e<=a;e++){let i=r[e].layerPath;s.SDK.Statistic.InvokeMethod(h.SDK_NET_API.Statistic_Layer,i,this,e=>{}),this._localLayerList||(this._localLayerList=new d.LocalLayerInfo,this._localLayerList.s_layers=[]),this._localLayerList.s_layers.push(i),this._localLayerList.get_time=t}this.SetValueT(h.SDK_VARS.ListStatisticsLayer,this._localLayerList)}this.StatisticEvent(e,"LayerOn")}else console.log("statisticLayer-layerPath not found","warn");s.SDK.Statistic_Api.InvokeMethod(h.COMMERCE_API.StatisticLayer,D.EM_PLATFORM_TYPE.Common,null)}isToday(e){let t=new Date,i=t.getFullYear(),o=t.getMonth()+1,r=t.getDate(),s=new Date(e),n=s.getFullYear(),a=s.getMonth()+1,l=s.getDate();return i==n&&o==a&&r==l}IsCanRewardByVideoOrShare(e){let t=!1,i=this.VideoFalseLimit,o=this.ShareFalseLimit;return e==h.EM_SHARE_TYPE.Video?i&&i>0&&(t=!0,i=(i-=1)<0?0:i,this.VideoFalseLimit=i):e==h.EM_SHARE_TYPE.Share&&o&&o>0&&(t=!0,o=(o-=1)<0?0:o,this.ShareFalseLimit=o),t&&(this.SetValueT(h.SDK_VARS.VideoFalseLimit,this.VideoFalseLimit),this.SetValueT(h.SDK_VARS.ShareFalseLimit,this.ShareFalseLimit)),s.SDK.Statistic_Api.InvokeMethod(h.COMMERCE_API.IsCanRewardByVideoOrShare,D.EM_PLATFORM_TYPE.Common,null),t}GetShareRewardLimit(){return s.SDK.Statistic_Api.InvokeMethod(h.COMMERCE_API.GetShareRewardLimit,D.EM_PLATFORM_TYPE.Common,null),this.ShareFalseLimit}GetVideoRewardLimit(){return s.SDK.Statistic_Api.InvokeMethod(h.COMMERCE_API.GetVideoRewardLimit,D.EM_PLATFORM_TYPE.Common,null),this.VideoFalseLimit}GetServerInfo(e,t){s.SDK.Data.InvokeMethod(h.SDK_NET_API.MyInfo,e,t),s.SDK.Statistic_Api.InvokeMethod(h.COMMERCE_API.GetServerInfo,D.EM_PLATFORM_TYPE.Common,null)}Hook(e,t,i,...o){this._Platform.Hook(e,t,i)}_AddPowerByVideo(){if(!this.PowerSystemConfig||!1===this.PowerSystemConfig.IsOn)return void(this.SwitchLog&&this.Log("Power System is off"));let e=this.PowerSystemConfig.VideoPowerWeight,t=this.PowerSystem.GetPower();console.warn("YDHW ---_AddPowerByVideo:",t,e),this.PowerSystem.SetPower(t+e,h.EM_POWER_RECOVERY_TYPE.WatchVideo)}OnFrontend(){this.RefreshLastPlayTime(),this._ShareAppInfo=null,this.InvokeNotify(h.SDK_EVT.OnFrontend)}OnBackend(){!this._showBannerAd||this._showInterstitialAd||this._showVideoAd||this._showShare||(console.log("YDHW has click Banner ?"),this.StatisticBanner(h.EM_STATISTIC_TYPE.CLICK,this._bannerId)),this.StatisticDuration(),this.InvokeNotify(h.SDK_EVT.OnBackend)}Log(e,...t){this.SwitchLog&&super.Log(e,...t)}Debug(e,...t){this.SwitchLog&&super.Debug(e,...t)}Info(e,...t){this.SwitchLog&&super.Info(e,...t)}Warn(e,...t){this.SwitchLog&&super.Warn(e,...t)}Error(e,...t){this.SwitchLog&&super.Error(e,...t)}}},"./sdk/Manager/DataMgr.ts":function(e,t,i){"use strict";i.r(t),i.d(t,"DataMgr",function(){return l});var o=i("./framework/Manager/DataManager.ts"),r=i("./sdk/SDK/Declare.ts"),s=i("./sdk/Base/SDKPlatform.ts"),n=i("./sdk/Assist/Log.ts"),a=i("./sdk/SDK/EventDef.ts");class l extends o.DataManager{Initialize(){this.UrlConfig=r.SDK.Domain.Clone().RequestHeader("Content-Type","application/x-www-form-urlencoded").Description("获取游戏配置列表").Category("gamebase").Router("config").End(),this.UrlConfigFinal=r.SDK.Domain.Clone().RequestHeader("Content-Type","application/x-www-form-urlencoded").Description("强制获取游戏配置列表").Category("gamebase").Router("config").Append("final").End(),this.DeclareMethod(a.SDK_NET_API.Config,this,(e,t)=>{this.UrlConfig.AsGet().End().OnReceive(this,i=>{if(r.SDK.Platform.IsDebug&&n.Log.Log("Config response=",i),0===i.code)e&&t&&t.call(e,i.result);else{r.SDK.Platform.IsDebug&&n.Log.Error("server say:"+i.info);let o=s.SDKPlatform.ERROR_DESCRIPTION[i.code];r.SDK.Platform.IsDebug&&o&&n.Log.Error("Config Error:"+o.Description+",提示:"+o.SolutionHint),this.UrlConfigFinal.AsGet().Param("appid",r.SDK.Commerce.AppId).End().OnReceive(this,i=>{if(r.SDK.Platform.IsDebug&&n.Log.Log("ConfigForce response=",i),0===i.code)e&&t&&t.call(e,i.result);else{r.SDK.Platform.IsDebug&&n.Log.Error("server say:"+i.info);let o=s.SDKPlatform.ERROR_DESCRIPTION[i.code];r.SDK.Platform.IsDebug&&o&&n.Log.Error("ConfigForce Error:"+o.Description+",提示:"+o.SolutionHint),e&&t&&t.call(e,null)}}).OnError(this,e=>{r.SDK.Platform.IsDebug&&n.Log.Error("Error=",e)}).OnException(this,e=>{r.SDK.Platform.IsDebug&&n.Log.Error("Exception=",e)}).Send()}}).OnError(this,e=>{r.SDK.Platform.IsDebug&&n.Log.Error("Error=",e)}).OnException(this,e=>{r.SDK.Platform.IsDebug&&n.Log.Error("Exception=",e)}).Send()}),this.UrlCustomConfig=r.SDK.Domain.Clone().RequestHeader("Content-Type","application/x-www-form-urlencoded").Description("获取自定义配置列表").Category("gamebase").Router("customconfig").End(),this.UrlCustomConfigFinal=r.SDK.Domain.Clone().RequestHeader("Content-Type","application/x-www-form-urlencoded").Description("强制获取自定义配置列表").Category("gamebase").Router("customconfig").Append("final").End(),this.DeclareMethod(a.SDK_NET_API.CustomConfig,this,(e,t)=>{this.UrlCustomConfig.AsGet().End().OnReceive(this,i=>{if(r.SDK.Platform.IsDebug&&n.Log.Log("CustomConfig response=",i),0===i.code)e&&t&&t.call(e,i.result);else{r.SDK.Platform.IsDebug&&n.Log.Error("server say:"+i.info);let o=s.SDKPlatform.ERROR_DESCRIPTION[i.code];r.SDK.Platform.IsDebug&&o&&n.Log.Error("CustomConfig Error:"+o.Description+",提示:"+o.SolutionHint),this.UrlCustomConfigFinal.AsGet().Param("appid",r.SDK.Commerce.AppId).Param("version",r.SDK.Commerce.Version).End().OnReceive(this,i=>{if(r.SDK.Platform.IsDebug&&n.Log.Log("CustomConfigForce response=",i),0===i.code)e&&t&&t.call(e,i.result);else{r.SDK.Platform.IsDebug&&n.Log.Error("server say:"+i.info);let o=s.SDKPlatform.ERROR_DESCRIPTION[i.code];r.SDK.Platform.IsDebug&&o&&n.Log.Error("CustomConfigFinal Error:"+o.Description+",提示:"+o.SolutionHint),e&&t&&t.call(e,null)}}).OnError(this,e=>{r.SDK.Platform.IsDebug&&n.Log.Error("Error=",e)}).OnException(this,e=>{r.SDK.Platform.IsDebug&&n.Log.Error("Exception=",e)}).Send()}}).OnError(this,e=>{r.SDK.Platform.IsDebug&&n.Log.Error("Error=",e)}).OnException(this,e=>{r.SDK.Platform.IsDebug&&n.Log.Error("Exception=",e)}).Send()}),this.UrlDataDecode=r.SDK.Domain.Clone().RequestHeader("Content-Type","application/json;charset=UTF-8").Description("获取平台加密数据").Category("gamebase").Router("data").Append("decode").End(),this.DeclareMethod(a.SDK_NET_API.DataDecode,this,(e,t,i)=>{this.UrlDataDecode.AsPost().Post(e).OnReceive(this,e=>{if(r.SDK.Platform.IsDebug&&n.Log.Log("DataDecode Response=",e),0===e.code)t&&i&&i.call(t,e.result);else{r.SDK.Platform.IsDebug&&n.Log.Error("server say:"+e.info);let o=s.SDKPlatform.ERROR_DESCRIPTION[e.code];r.SDK.Platform.IsDebug&&o&&n.Log.Error("CustomConfig Error:"+o.Description+",提示:"+o.SolutionHint),t&&i&&i.call(t,null)}}).OnError(this,e=>{r.SDK.Platform.IsDebug&&n.Log.Error("Error=",e)}).OnException(this,e=>{r.SDK.Platform.IsDebug&&n.Log.Error("Exception=",e)}).Send()}),this.UrlGetBoardAward=r.SDK.Domain.Clone().RequestHeader("Content-Type","application/json;charset=UTF-8").Description("领取积分墙奖励").Category("gamebase").Router("getboardaward").End(),this.DeclareMethod(a.SDK_NET_API.GetBoardAward,this,(e,t,i,o)=>{this.UrlGetBoardAward.AsPost().Post({module:e,awardId:t}).OnReceive(this,e=>{if(r.SDK.Platform.IsDebug&&n.Log.Log("GetBoardAward Response=",e),0===e.code)i&&o&&o.call(i,e.result);else{r.SDK.Platform.IsDebug&&n.Log.Error("server say:"+e.info);let t=s.SDKPlatform.ERROR_DESCRIPTION[e.code];r.SDK.Platform.IsDebug&&t&&n.Log.Error("GetBoardAward Error:"+t.Description+",提示:"+t.SolutionHint),i&&o&&o.call(i,null)}}).OnError(this,e=>{r.SDK.Platform.IsDebug&&n.Log.Error("Error=",e)}).OnException(this,e=>{r.SDK.Platform.IsDebug&&n.Log.Error("Exception=",e)}).Send()}),this.UrlLayer=r.SDK.Domain.Clone().RequestHeader("Content-Type","application/x-www-form-urlencoded").Description("获取游戏流失路径列表").Category("gamebase").Router("layer").End(),this.DeclareMethod(a.SDK_NET_API.Data_Layer,this,(e,t)=>{this.UrlLayer.AsGet().End().OnReceive(this,i=>{if(r.SDK.Platform.IsDebug&&n.Log.Log("Layer response=",i),0===i.code)e&&t&&t.call(e,i.result);else{r.SDK.Platform.IsDebug&&n.Log.Error("server say:"+i.info);let o=s.SDKPlatform.ERROR_DESCRIPTION[i.code];r.SDK.Platform.IsDebug&&o&&n.Log.Error("Layer Error:"+o.Description+",提示:"+o.SolutionHint),e&&t&&t.call(e,null)}}).OnError(this,e=>{r.SDK.Platform.IsDebug&&n.Log.Error("Error=",e)}).OnException(this,e=>{r.SDK.Platform.IsDebug&&n.Log.Error("Exception=",e)}).Send()}),this.UrlScoreBoard=r.SDK.Domain.Clone().RequestHeader("Content-Type","application/json;charset=UTF-8").AsPost().Description("获取积分墙列表").Category("gamebase").Router("scoreboard").End(),this.UrlScoreBoardFinal=r.SDK.Domain.Clone().RequestHeader("Content-Type","application/x-www-form-urlencoded").Description("强制获取积分墙列表").Category("gamebase").Router("scoreboard").Append("final").End(),this.DeclareMethod(a.SDK_NET_API.ScoreBoard,this,(e,t,i)=>{this.UrlScoreBoard.AsPost().Post({module:e}).OnReceive(this,o=>{if(r.SDK.Platform.IsDebug&&n.Log.Log("ScoreBoard Response=",o),0===o.code)t&&i&&i.call(t,o.result);else{r.SDK.Platform.IsDebug&&n.Log.Error("server say:"+o.info);let a=s.SDKPlatform.ERROR_DESCRIPTION[o.code];r.SDK.Platform.IsDebug&&a&&n.Log.Error("ScoreBoard Error:"+a.Description+",提示:"+a.SolutionHint),this.UrlScoreBoardFinal.AsGet().Param("appid",r.SDK.Commerce.AppId).Param("version",r.SDK.Commerce.Version).Param("module",e).End().OnReceive(this,e=>{if(r.SDK.Platform.IsDebug&&n.Log.Log("ScoreBoard Response=",e),0===e.code)t&&i&&i.call(t,e.result);else{r.SDK.Platform.IsDebug&&n.Log.Error("server say:"+e.info);let o=s.SDKPlatform.ERROR_DESCRIPTION[e.code];r.SDK.Platform.IsDebug&&o&&n.Log.Error("ScoreBoard Error:"+o.Description+",提示:"+o.SolutionHint),t&&i&&i.call(t,null)}}).OnError(this,e=>{r.SDK.Platform.IsDebug&&n.Log.Error("Error=",e)}).OnException(this,e=>{r.SDK.Platform.IsDebug&&n.Log.Error("Exception=",e)}).Send()}}).OnError(this,e=>{r.SDK.Platform.IsDebug&&n.Log.Error("Error=",e)}).OnException(this,e=>{r.SDK.Platform.IsDebug&&n.Log.Error("Exception=",e)}).Send()}),this.UrlSideBox=r.SDK.Domain.Clone().RequestHeader("Content-Type","application/x-www-form-urlencoded").Description("获取侧边栏列表").Category("gamebase").Router("sidebox").End(),this.UrlSideBoxFinal=r.SDK.Domain.Clone().RequestHeader("Content-Type","application/x-www-form-urlencoded").Description("强制获取侧边栏列表").Category("gamebase").Router("sidebox").Append("final").End(),this.DeclareMethod(a.SDK_NET_API.SideBox,this,(e,t)=>{this.UrlSideBox.AsGet().End().OnReceive(this,i=>{if(r.SDK.Platform.IsDebug&&n.Log.Log("SideBox response=",i),0===i.code)e&&t&&t.call(e,i.result);else{r.SDK.Platform.IsDebug&&n.Log.Error("server say:"+i.info);let o=s.SDKPlatform.ERROR_DESCRIPTION[i.code];r.SDK.Platform.IsDebug&&o&&n.Log.Error("SideBox Error:"+o.Description+",提示:"+o.SolutionHint),this.UrlSideBoxFinal.AsGet().Param("appi",r.SDK.Commerce.AppId).Param("version",r.SDK.Commerce.Version).End().OnReceive(this,i=>{if(r.SDK.Platform.IsDebug&&n.Log.Log("SideBoxForce response=",i),0===i.code)e&&t&&t.call(e,i.result);else{r.SDK.Platform.IsDebug&&n.Log.Error("server say:"+i.info);let o=s.SDKPlatform.ERROR_DESCRIPTION[i.code];r.SDK.Platform.IsDebug&&o&&n.Log.Error("SideBoxFinal Error:"+o.Description+",提示:"+o.SolutionHint),e&&t&&t.call(e,null)}}).OnError(this,e=>{r.SDK.Platform.IsDebug&&n.Log.Error("Error=",e)}).OnException(this,e=>{r.SDK.Platform.IsDebug&&n.Log.Error("Exception=",e)}).Send()}}).OnError(this,e=>{r.SDK.Platform.IsDebug&&n.Log.Error("Error=",e)}).OnException(this,e=>{r.SDK.Platform.IsDebug&&n.Log.Error("Exception=",e)}).Send()}),this.UrlShareCard=r.SDK.Domain.Clone().RequestHeader("Content-Type","application/json;charset=UTF-8").Description("获取分享图列表").Category("gamebase").Router("sharecard").End(),this.UrlShareCardFinal=r.SDK.Domain.Clone().RequestHeader("Content-Type","application/x-www-form-urlencoded").Description("强制获取分享图列表").Category("gamebase").Router("sharecard").Append("final").End(),this.DeclareMethod(a.SDK_NET_API.Data_ShareCard,this,(e,t,i)=>{this.UrlShareCard.AsPost().Post({scene:e}).OnReceive(this,o=>{if(r.SDK.Platform.IsDebug&&n.Log.Log("ShareCard response=",o),0===o.code)t&&i&&i.call(t,o.result);else{r.SDK.Platform.IsDebug&&n.Log.Error("server say:"+o.info);let a=s.SDKPlatform.ERROR_DESCRIPTION[o.code];r.SDK.Platform.IsDebug&&a&&n.Log.Error("ShareCard Error:"+a.Description+",提示:"+a.SolutionHint),this.UrlShareCardFinal.AsGet().Param("appid",r.SDK.Commerce.AppId).Param("scene",e).End().OnReceive(this,e=>{if(r.SDK.Platform.IsDebug&&n.Log.Log("ShareCardFinal response=",e),0===e.code)t&&i&&i.call(t,e.result);else{r.SDK.Platform.IsDebug&&n.Log.Error("server say:"+e.info);let o=s.SDKPlatform.ERROR_DESCRIPTION[e.code];r.SDK.Platform.IsDebug&&o&&n.Log.Error("ShareCardFinal Error:"+o.Description+",提示:"+o.SolutionHint),t&&i&&i.call(t,null)}}).OnError(this,e=>{r.SDK.Platform.IsDebug&&n.Log.Error("Error=",e)}).OnException(this,e=>{r.SDK.Platform.IsDebug&&n.Log.Error("Exception=",e)}).Send()}}).OnError(this,e=>{r.SDK.Platform.IsDebug&&n.Log.Error("Error=",e)}).OnException(this,e=>{r.SDK.Platform.IsDebug&&n.Log.Error("Exception=",e)}).Send()}),this.UrlStoreValue=r.SDK.Domain.Clone().RequestHeader("Content-Type","application/json;charset=UTF-8").Description("获取自定义空间值").Category("gamebase").Router("store").Append("value").End(),this.DeclareMethod(a.SDK_NET_API.StoreValue,this,(e,t,i)=>{this.UrlStoreValue.AsPost().Post(e).OnReceive(this,e=>{if(r.SDK.Platform.IsDebug&&n.Log.Log("StoreValue response=",e),0===e.code)t&&i&&i.call(t,e.result);else{r.SDK.Platform.IsDebug&&n.Log.Error("server say:"+e.info);let o=s.SDKPlatform.ERROR_DESCRIPTION[e.code];r.SDK.Platform.IsDebug&&o&&n.Log.Error("StoreValue Error:"+o.Description+",提示:"+o.SolutionHint),t&&i&&i.call(t,null)}}).OnError(this,e=>{r.SDK.Platform.IsDebug&&n.Log.Error("Error=",e)}).OnException(this,e=>{r.SDK.Platform.IsDebug&&n.Log.Error("Exception=",e)}).Send()})}}},"./sdk/Manager/PowerMgr.ts":function(e,t,i){"use strict";i.r(t),i.d(t,"PowerMgr",function(){return a}),i.d(t,"YDHWVarExporter",function(){return l});var o=i("./framework/Manager/Manager.ts"),r=i("./sdk/SDK/Declare.ts"),s=i("./sdk/SDK/EventDef.ts"),n=i("./sdk/SDK/Enum.ts");class a extends o.Manager{Initialize(){r.SDK.Instance.DeclareMethod(s.POWER_EVT.AddPower,this,e=>{}),r.SDK.Instance.DeclareVariable(n.VARS.Power,0).Store().Bind(this,(e,t)=>{}),r.SDK.Instance.SetValueT(n.VARS.Power,5),r.SDK.Instance.GetVariable(n.VARS.Power).Bind(this,e=>{});r.SDK.Instance.GetValueT(n.VARS.Power);l.AddPower=5}}class l{static get Power(){return 0}static set Power(e){r.SDK.Instance.SetValueT(n.VARS.Power,e)}static set AddPower(e){r.SDK.Instance.InvokeMethod(s.POWER_EVT.AddPower,e)}static AddPower2(e,t){r.SDK.Instance.InvokeMethod(s.POWER_EVT.AddPower,e)}}},"./sdk/Manager/StatisticMgr.ts":function(e,t,i){"use strict";i.r(t),i.d(t,"StatisticMgr",function(){return l});var o=i("./framework/Manager/DataManager.ts"),r=i("./sdk/SDK/Declare.ts"),s=i("./sdk/Assist/Log.ts"),n=i("./sdk/Base/SDKPlatform.ts"),a=i("./sdk/SDK/EventDef.ts");class l extends o.DataManager{Initialize(){this._UrlBanner=r.SDK.Domain.Clone().RequestHeader("Content-Type","application/x-www-form-urlencoded").Description("Banner统计").Category("statistics").Router("banner").End(),this.DeclareMethod(a.SDK_NET_API.Banner,this,(e,t,i,o)=>{this._UrlBanner.AsGet().Param("type",e).Param("adId",t).End().OnReceive(this,e=>{if(r.SDK.Platform.IsDebug&&s.Log.Log("Banner response=",e),0===e.code)i&&o&&o.call(i,!0);else{r.SDK.Platform.IsDebug&&s.Log.Error("server say:"+e.info);let t=n.SDKPlatform.ERROR_DESCRIPTION[e.code];r.SDK.Platform.IsDebug&&t&&s.Log.Error("Banner Error:"+t.Description+",提示:"+t.SolutionHint),i&&o&&o.call(i,!1)}}).OnError(this,e=>{r.SDK.Platform.IsDebug&&s.Log.Error("Error=",e)}).OnException(this,e=>{r.SDK.Platform.IsDebug&&s.Log.Error("Exception=",e)}).Send()}),this._UrlClickCount=r.SDK.Domain.Clone().RequestHeader("Content-Type","application/json;charset=UTF-8").Description("卖量统计").Category("statistics").Router("clickcount").End(),this.DeclareMethod(a.SDK_NET_API.ClickOut,this,(e,t,i)=>{this._UrlClickCount.AsPost().Post(e).OnReceive(this,e=>{if(r.SDK.Platform.IsDebug&&s.Log.Log("ClickOut Response=",e),0===e.code)t&&i&&i.call(t,!0);else{r.SDK.Platform.IsDebug&&s.Log.Error("server say:"+e.info);let o=n.SDKPlatform.ERROR_DESCRIPTION[e.code];r.SDK.Platform.IsDebug&&o&&s.Log.Error("ClickOut Error:"+o.Description+",提示:"+o.SolutionHint),t&&i&&i.call(t,!1)}}).OnError(this,e=>{r.SDK.Platform.IsDebug&&s.Log.Error("Error=",e)}).OnException(this,e=>{r.SDK.Platform.IsDebug&&s.Log.Error("Exception=",e)}).Send()}),this._UrlClientLog=r.SDK.Domain.Clone().RequestHeader("Content-Type","application/json;charset=UTF-8").Description("客户端错误日志").Category("statistics").Router("clientlog").End(),this.DeclareMethod(a.SDK_NET_API.ClientLog,this,(e,t,i)=>{this._UrlClientLog.AsPost().Post(e).OnReceive(this,e=>{if(r.SDK.Platform.IsDebug&&s.Log.Log("ClientLog Response=",e),0===e.code)t&&i&&i.call(t,!0);else{r.SDK.Platform.IsDebug&&s.Log.Error("server say:"+e.info);let o=n.SDKPlatform.ERROR_DESCRIPTION[e.code];r.SDK.Platform.IsDebug&&o&&s.Log.Error("ClientLog Error:"+o.Description+",提示:"+o.SolutionHint),t&&i&&i.call(t,!1)}}).OnError(this,e=>{r.SDK.Platform.IsDebug&&s.Log.Error("Error=",e)}).OnException(this,e=>{r.SDK.Platform.IsDebug&&s.Log.Error("Exception=",e)}).Send()}),this._UrlDuration=r.SDK.Domain.Clone().RequestHeader("Content-Type","application/json;charset=UTF-8").Description("时长统计").Category("statistics").Router("duration").End(),this.DeclareMethod(a.SDK_NET_API.Duration,this,(e,t,i,o)=>{this._UrlDuration.AsGet().Param("type",e).Param("duration",t).End().OnReceive(this,e=>{if(r.SDK.Platform.IsDebug&&s.Log.Log("Duration Response=",e),0===e.code)i&&o&&o.call(i,!0);else{r.SDK.Platform.IsDebug&&s.Log.Error("server say:"+e.info);let t=n.SDKPlatform.ERROR_DESCRIPTION[e.code];r.SDK.Platform.IsDebug&&t&&s.Log.Error("Duration Error:"+t.Description+",提示:"+t.SolutionHint),i&&o&&o.call(i,!1)}}).OnError(this,e=>{r.SDK.Platform.IsDebug&&s.Log.Error("Error=",e)}).OnException(this,e=>{r.SDK.Platform.IsDebug&&s.Log.Error("Exception=",e)}).Send()}),this._UrlEvent=r.SDK.Domain.Clone().RequestHeader("Content-Type","application/json;charset=UTF-8").Description("事件统计").Category("statistics").Router("event").End(),this.DeclareMethod(a.SDK_NET_API.Event,this,(e,t,i)=>{this._UrlEvent.AsPost().Post({events:e}).OnReceive(this,e=>{if(r.SDK.Platform.IsDebug&&s.Log.Log("Event Response=",e),0===e.code)t&&i&&i.call(t,!0);else{r.SDK.Platform.IsDebug&&s.Log.Error("server say:"+e.info);let o=n.SDKPlatform.ERROR_DESCRIPTION[e.code];r.SDK.Platform.IsDebug&&o&&s.Log.Error("Event Error:"+o.Description+",提示:"+o.SolutionHint),t&&i&&i.call(t,!1)}}).OnError(this,e=>{r.SDK.Platform.IsDebug&&s.Log.Error("Error=",e)}).OnException(this,e=>{r.SDK.Platform.IsDebug&&s.Log.Error("Exception=",e)}).Send()}),this._UrlInterstitialAd=r.SDK.Domain.Clone().RequestHeader("Content-Type","application/x-www-form-urlencoded").Description("插屏广告统计").Category("statistics").Router("interstitial").End(),this.DeclareMethod(a.SDK_NET_API.InterstitialAd,this,(e,t,i,o)=>{this._UrlInterstitialAd.AsGet().Param("type",e).Param("adId",t).End().OnReceive(this,e=>{if(r.SDK.Platform.IsDebug&&s.Log.Log("Event Response=",e),0===e.code)i&&o&&o.call(i,!0);else{r.SDK.Platform.IsDebug&&s.Log.Error("server say:"+e.info);let t=n.SDKPlatform.ERROR_DESCRIPTION[e.code];r.SDK.Platform.IsDebug&&t&&s.Log.Error("InterstitialAd Error:"+t.Description+",提示:"+t.SolutionHint),i&&o&&o.call(i,!1)}}).OnError(this,e=>{r.SDK.Platform.IsDebug&&s.Log.Error("Error=",e)}).OnException(this,e=>{r.SDK.Platform.IsDebug&&s.Log.Error("Exception=",e)}).Send()}),this._UrlGridAd=r.SDK.Domain.Clone().RequestHeader("Content-Type","application/x-www-form-urlencoded").Description("格子广告").Category("statistics").Router("grid").End(),this.DeclareMethod(a.SDK_NET_API.GridAd,this,(e,t,i,o)=>{this._UrlGridAd.AsGet().Param("type",e).Param("adId",t).End().OnReceive(this,e=>{if(r.SDK.Platform.IsDebug&&s.Log.Log("Event Response=",e),0===e.code)i&&o&&o.call(i,!0);else{r.SDK.Platform.IsDebug&&s.Log.Error("server say:"+e.info);let t=n.SDKPlatform.ERROR_DESCRIPTION[e.code];r.SDK.Platform.IsDebug&&t&&s.Log.Error("GridAd Error:"+t.Description+",提示:"+t.SolutionHint),i&&o&&o.call(i,!1)}}).OnError(this,e=>{r.SDK.Platform.IsDebug&&s.Log.Error("Error=",e)}).OnException(this,e=>{r.SDK.Platform.IsDebug&&s.Log.Error("Exception=",e)}).Send()}),this._UrlLayer=r.SDK.Domain.Clone().RequestHeader("Content-Type","application/json;charset=UTF-8").Description("流失统计").Category("statistics").Router("layer").End(),this.DeclareMethod(a.SDK_NET_API.Statistic_Layer,this,(e,t,i)=>{this._UrlLayer.AsPost().Post({layer:e}).OnReceive(this,e=>{if(r.SDK.Platform.IsDebug&&s.Log.Log("Event Response=",e),0===e.code)t&&i&&i.call(t,!0);else{r.SDK.Platform.IsDebug&&s.Log.Error("server say:"+e.info);let o=n.SDKPlatform.ERROR_DESCRIPTION[e.code];r.SDK.Platform.IsDebug&&o&&s.Log.Error("Layer Error:"+o.Description+",提示:"+o.SolutionHint),t&&i&&i.call(t,!1)}}).OnError(this,e=>{r.SDK.Platform.IsDebug&&s.Log.Error("Error=",e)}).OnException(this,e=>{r.SDK.Platform.IsDebug&&s.Log.Error("Exception=",e)}).Send()}),this._UrlResult=r.SDK.Domain.Clone().RequestHeader("Content-Type","application/json;charset=UTF-8").Description("结果统计").Category("statistics").Router("result").End(),this.DeclareMethod(a.SDK_NET_API.Result,this,(e,t,i)=>{this._UrlResult.AsPost().Post({detail:e}).OnReceive(this,e=>{if(r.SDK.Platform.IsDebug&&s.Log.Log("Result Response=",e),0===e.code)t&&i&&i.call(t,e.result);else{r.SDK.Platform.IsDebug&&s.Log.Error("server say:"+e.info);let o=n.SDKPlatform.ERROR_DESCRIPTION[e.code];r.SDK.Platform.IsDebug&&o&&s.Log.Error("Result Error:"+o.Description+",提示:"+o.SolutionHint),t&&i&&i.call(t,!1)}}).OnError(this,e=>{r.SDK.Platform.IsDebug&&s.Log.Error("Error=",e)}).OnException(this,e=>{r.SDK.Platform.IsDebug&&s.Log.Error("Exception=",e)}).Send()}),this._UrlShareCard=r.SDK.Domain.Clone().RequestHeader("Content-Type","application/json;charset=UTF-8").Description("分享图统计").Category("statistics").Router("sharecard").End(),this.DeclareMethod(a.SDK_NET_API.Statistic_ShareCard,this,(e,t,i)=>{this._UrlShareCard.AsPost().Post({sharecardId:e}).OnReceive(this,e=>{if(r.SDK.Platform.IsDebug&&s.Log.Log("ShareCard Response=",e),0===e.code)t&&i&&i.call(t,!0);else{r.SDK.Platform.IsDebug&&s.Log.Error("server say:"+e.info);let o=n.SDKPlatform.ERROR_DESCRIPTION[e.code];r.SDK.Platform.IsDebug&&o&&s.Log.Error("ShareCard Error:"+o.Description+",提示:"+o.SolutionHint),t&&i&&i.call(t,!1)}}).OnError(this,e=>{r.SDK.Platform.IsDebug&&s.Log.Error("Error=",e)}).OnException(this,e=>{r.SDK.Platform.IsDebug&&s.Log.Error("Exception=",e)}).Send()}),this._UrlVideo=r.SDK.Domain.Clone().RequestHeader("Content-Type","application/json;charset=UTF-8").Description("视频统计").Category("statistics").Router("video").End(),this.DeclareMethod(a.SDK_NET_API.Video,this,(e,t,i,o)=>{this._UrlVideo.AsPost().Post({type:e,adId:t}).OnReceive(this,e=>{if(r.SDK.Platform.IsDebug&&s.Log.Log("Video Response=",e),0===e.code)i&&o&&o.call(i,!0);else{r.SDK.Platform.IsDebug&&s.Log.Error("server say:"+e.info);let t=n.SDKPlatform.ERROR_DESCRIPTION[e.code];r.SDK.Platform.IsDebug&&t&&s.Log.Error("Video Error:"+t.Description+",提示:"+t.SolutionHint),i&&o&&o.call(i,!1)}}).OnError(this,e=>{r.SDK.Platform.IsDebug&&s.Log.Error("Error=",e)}).OnException(this,e=>{r.SDK.Platform.IsDebug&&s.Log.Error("Exception=",e)}).Send()}),this._UrlAppBoxAd=r.SDK.Domain.Clone().RequestHeader("Content-Type","application/json;charset=UTF-8").Description("盒子广告统计").Category("statistics").Router("box").End(),this.DeclareMethod(a.SDK_NET_API.AppBoxAd,this,(e,t,i,o)=>{this._UrlAppBoxAd.AsPost().Post({type:e,adId:t}).OnReceive(this,e=>{if(r.SDK.Platform.IsDebug&&s.Log.Log("AppBox Response=",e),0===e.code)i&&o&&o.call(i,!0);else{r.SDK.Platform.IsDebug&&s.Log.Error("server say:"+e.info);let t=n.SDKPlatform.ERROR_DESCRIPTION[e.code];r.SDK.Platform.IsDebug&&t&&s.Log.Error("AppBox Error:"+t.Description+",提示:"+t.SolutionHint),i&&o&&o.call(i,!1)}}).OnError(this,e=>{r.SDK.Platform.IsDebug&&s.Log.Error("Error=",e)}).OnException(this,e=>{r.SDK.Platform.IsDebug&&s.Log.Error("Exception=",e)}).Send()}),this._UrlBlockAd=r.SDK.Domain.Clone().RequestHeader("Content-Type","application/json;charset=UTF-8").Description("积木广告统计").Category("statistics").Router("block").End(),this.DeclareMethod(a.SDK_NET_API.BlockAd,this,(e,t,i,o)=>{this._UrlBlockAd.AsPost().Post({type:e,adId:t}).OnReceive(this,e=>{if(r.SDK.Platform.IsDebug&&s.Log.Log("Block Response=",e),0===e.code)i&&o&&o.call(i,!0);else{r.SDK.Platform.IsDebug&&s.Log.Error("server say:"+e.info);let t=n.SDKPlatform.ERROR_DESCRIPTION[e.code];r.SDK.Platform.IsDebug&&t&&s.Log.Error("Block Error:"+t.Description+",提示:"+t.SolutionHint),i&&o&&o.call(i,!1)}}).OnError(this,e=>{r.SDK.Platform.IsDebug&&s.Log.Error("Error=",e)}).OnException(this,e=>{r.SDK.Platform.IsDebug&&s.Log.Error("Exception=",e)}).Send()}),this._UrlNativeAd=r.SDK.Domain.Clone().RequestHeader("Content-Type","application/json;charset=UTF-8").Description("原生广告统计").Category("statistics").Router("native").End(),this.DeclareMethod(a.SDK_NET_API.NativeAd,this,(e,t,i,o)=>{this._UrlNativeAd.AsGet().Param("type",e).Param("adId",t).End().OnReceive(this,e=>{if(r.SDK.Platform.IsDebug&&s.Log.Log("Native Response=",e),0===e.code)i&&o&&o.call(i,!0);else{r.SDK.Platform.IsDebug&&s.Log.Error("server say:"+e.info);let t=n.SDKPlatform.ERROR_DESCRIPTION[e.code];r.SDK.Platform.IsDebug&&t&&s.Log.Error("GridAd Error:"+t.Description+",提示:"+t.SolutionHint),i&&o&&o.call(i,!1)}}).OnError(this,e=>{r.SDK.Platform.IsDebug&&s.Log.Error("Error=",e)}).OnException(this,e=>{r.SDK.Platform.IsDebug&&s.Log.Error("Exception=",e)}).Send()})}}},"./sdk/Model/Data.ts":function(e,t,i){"use strict";i.r(t),i.d(t,"StoreValueRequest",function(){return o}),i.d(t,"BannerRefreshConfig",function(){return r}),i.d(t,"PowerSystemConfig",function(){return s}),i.d(t,"VideoUnlockLevelConfig",function(){return n}),i.d(t,"DeepSheildRuleConfig",function(){return a}),i.d(t,"TimingMisTouchSwitchConfig",function(){return l}),i.d(t,"DeveloperAccountConfig",function(){return h}),i.d(t,"LocalLayerInfo",function(){return d});class o{constructor(){this.name="",this.cmd="",this.args=""}}class r{}class s{constructor(){this.DefaultPowerValue=0,this.UpperLimit=0,this.AutoRecoveryTime=0,this.VideoPowerWeight=0,this.IsOn=!1}}class n{constructor(){this.IsOn=!1,this.CustomNumber=0,this.IntervalCount=0}}class a{constructor(){this.Type=0,this.CustomNumberCounter=0,this.ExecellentUserSwitch=!1,this.WatchVideoCounter=0,this.DayCustomNumber=[]}}class l{constructor(){this.IsOn=!1,this.StartTimeHour=0,this.StartTimeMinute=0,this.EndTimeHour=0,this.EndTimeMinute=0}}class h{constructor(){this.IsOn=!1,this.Accounts=[]}}class d{constructor(){this.s_layers=null,this.get_time=null}}},"./sdk/Model/Default.ts":function(e,t,i){"use strict";i.r(t),i.d(t,"BannerAdStyle",function(){return o}),i.d(t,"ShareAppInfo",function(){return r}),i.d(t,"ShareBackInfo",function(){return s}),i.d(t,"CustomInfo",function(){return n}),i.d(t,"DeepTouchInfo",function(){return a}),i.d(t,"AppInfo",function(){return l}),i.d(t,"JumpOutInfo",function(){return h}),i.d(t,"StatisticEventRequest",function(){return d});class o{}class r{constructor(){this.channel="",this.module="",this.showTime=0,this.shareId=0}}class s{constructor(){this.IsSuccess=!1,this.IsHasStrategy=!1,this.Tips=null}}class n{constructor(){this._id=0,this.name="",this.version="",this.type="",this.value="",this.switchRegionUse="",this.switchTouchUse="",this.desc=""}}class a{constructor(){this.deepTouch=!1,this.ListCustomInfo=[]}}class l{constructor(e){this.appid="",this.appid=e}}class h{constructor(){this.Date=0,this.List=[]}}class d{}},"./sdk/Model/Statistic.ts":function(e,t,i){"use strict";i.r(t),i.d(t,"ClientLogRequest",function(){return o}),i.d(t,"ClickOutRequest",function(){return r}),i.d(t,"SdkInfo",function(){return s});class o{}class r{}class s{}},"./sdk/Model/Toutiao.ts":function(e,t,i){"use strict";var o;i.r(t),i.d(t,"EM_RECORD_TYPE",function(){return o}),i.d(t,"ShareAppMessageExtra",function(){return r}),function(e){e[e.T_None=0]="T_None",e[e.T_Recording=1]="T_Recording",e[e.T_Pasuse=2]="T_Pasuse"}(o||(o={}));class r{}},"./sdk/Model/User.ts":function(e,t,i){"use strict";i.r(t),i.d(t,"ShareInfo",function(){return o}),i.d(t,"ClientInfo",function(){return r}),i.d(t,"LoginRequest",function(){return s}),i.d(t,"LoginResponse",function(){return n}),i.d(t,"StrategyData",function(){return a}),i.d(t,"Tips",function(){return l}),i.d(t,"ShareVideoModuleFalse",function(){return h}),i.d(t,"LoopCtrl",function(){return d}),i.d(t,"ShareVideoModule",function(){return c}),i.d(t,"UnUseShareVideoModule",function(){return u});class o{}class r{}class s{}class n{}class a{}class l{}class h{constructor(){this.strategyId=0,this.timeId=0,this.count=0}}class d{}class c{}class u{}},"./sdk/Platform/ToutiaoPlatform.ts":function(e,t,i){"use strict";i.r(t),i.d(t,"ToutiaoPlatform",function(){return l});var o=i("./sdk/Base/SDKPlatform.ts"),r=i("./framework/Assist/StorageAdapter.ts"),s=i("./sdk/Model/Toutiao.ts"),n=i("./sdk/SDK/Declare.ts"),a=i("./sdk/Model/Default.ts");class l extends o.SDKPlatform{constructor(){super(),this.RecorderStatus=s.EM_RECORD_TYPE.T_None,this.Recorder=null,this.VideoPath=null,this._ListenOnRecoredStop=null,this._ListenOnPasuse=null,this._ListenOnResume=null,this.Name=this.constructor.name}Initialize(){if(!super.Initialize())return!1;r.StorageAdapter.WriteString=this.Controller.setStorageSync,r.StorageAdapter.WriteObject=((e,t)=>{this.Controller.setStorageSync(e,t)}),r.StorageAdapter.ReadString=this.Controller.getStorageSync,r.StorageAdapter.ReadObject=(e=>{let t=this.Controller.getStorageSync(e);return t&&void 0!==t?"object"==typeof t?t:JSON.parse(t):null}),r.StorageAdapter.DeleteObject=this.Controller.removeStorageSync;let e=this.SystemInfo.platform;return this.IsOnIOS=!1,this.IsOnAndroid=!1,this.IsSimulator=!1,"android"===e?this.IsOnAndroid=!0:"ios"===e?this.IsOnIOS=!0:"devtools"===e&&(this.IsSimulator=!0),!0}Login(e,t,i){this.Controller.login({force:!1,success(i){e&&t&&t.call(e,i.code,i.token,i)},fail(t){e&&i&&i.call(e,t)},complete(){}})}GetSystemInfoSync(e,t){e&&t&&t.call(e,this.Controller.getSystemInfoSync())}OnFrontend(e,t){this.Controller.onShow(i=>{e&&t&&t.call(e)})}OnBackend(e,t){this.Controller.onHide(i=>{e&&t&&t.call(e)})}NavigateToMiniProgram(e,t,i,o,r,s){this.Controller.navigateToMiniProgram({appId:t,path:i||"",extraData:{appid:e},success(){o&&r&&r.call(o)},fail(){o&&s&&s.call(o)}})}CreateBannerAd(e,t,i,o,r,s){this.CallerOnResizeBannerAd=r,this.OnResizeBannerAd=s,this.IsMisTouchBannerAd=i;let n=e?300:this.SystemInfo.windowWidth>800?800:this.SystemInfo.windowWidth,l=(this.SystemInfo.windowWidth-n)/2,h=new a.BannerAdStyle;h.left=l,h.top=this.SystemInfo.windowHeight-.28695*this.SystemInfo.windowWidth,h.width=n,o&&(o.left&&(h.left=o.left),o.top&&(h.top=o.top),o.width&&(h.width=o.width),o.height&&(h.height=o.height));let d={adUnitId:t,style:o,adIntervals:31};this.BannerAd=this.Controller.createBannerAd(d);let c=this;this.BannerAd.onResize(e=>{if(c.OnResizeBannerAd)this.CallerOnResizeBannerAd&&this.OnResizeBannerAd.call(this.CallerOnResizeBannerAd,e);else if(c.BannerStyle)c.BannerStyle.width&&(c.BannerAd.style.width=c.BannerStyle.width),c.BannerStyle.height&&(c.BannerAd.style.height=c.BannerStyle.height),c.BannerStyle.top&&(c.BannerAd.style.top=c.BannerStyle.top),c.BannerStyle.left&&(c.BannerAd.style.left=c.BannerStyle.left);else{let t=c.SystemInfo.windowHeight-e.height,i=.5*(c.SystemInfo.windowWidth-e.width);c.BannerAd.style.top=t,c.BannerAd.style.left=i}})}CloseBannerAd(){this.BannerAd&&(this.BannerAd.destroy(),this.BannerAd=null)}SetBannerVisible(e){this.BannerAd?e?this.BannerAd.show():this.BannerAd.hide():n.SDK.Platform.IsDebug&&console.error("SetBannerVisible banner ad is not exists")}CreateRewardVideoAd(e,t,i,o,r){let s=this;if(this.RewardVideoAd)this.RewardVideoAdId!==e&&(this.RewardVideoAd=e);else{this.RewardVideoAdId=e,this.RewardVideoAd=this.Controller.createRewardedVideoAd({adUnitId:e});let n=e=>{s.IsShowRewardVideoAd=!1,t&&o&&o.call(t,e)},a=e=>{t&&r&&r.call(t,e),s.IsShowRewardVideoAd=!1},l=()=>{t&&i&&i.call(t)};this.RewardVideoAd.offClose(n),this.RewardVideoAd.onClose(n),this.RewardVideoAd.offError(a),this.RewardVideoAd.onError(a),this.RewardVideoAd.offLoad(l),this.RewardVideoAd.onLoad(l)}}ShowRewardVideoAd(e,t,i){this.RewardVideoAd?(this.IsShowRewardVideoAd=!0,this.RewardVideoAd.load().then(()=>{this.RewardVideoAd.show().then(()=>{e&&t&&t.call(e)}).catch(t=>{this.IsShowRewardVideoAd=!1,e&&i&&i.call(e,t)})}).catch(()=>{this.IsShowRewardVideoAd=!1})):this.Error("VideoAd is null")}CreateInterstitialAd(e,t,i,o,r){if(this.InterstitialAdId=e,this.InterstitialAd=this.Controller.createInterstitialAd({adUnitId:e}),!this.InterstitialAd)return;let s=()=>{t&&i&&i.call(t)},n=e=>{t&&o&&o.call(t,e)},a=e=>{t&&r&&r.call(t,e)};this.InterstitialAd.offLoad(s),this.InterstitialAd.offClose(n),this.InterstitialAd.offError(a),this.InterstitialAd.onLoad(s),this.InterstitialAd.onClose(n),this.InterstitialAd.onError(a),this.InterstitialAd.load()}ShowInterstitialAd(e,t){this.InterstitialAd&&this.InterstitialAd.show().then(()=>{console.warn("YLSDK ---InterstitialAd.show() SUCCESS"),e&&t&&t.call(e)}).catch(i=>{2002===i.errCode&&2001===i.errCode||e&&t&&t.call(e),console.warn("YLSDK ---InterstitialAd.show() FAIL:"+JSON.stringify(i))})}ClearInterstitialAd(){this.InterstitialAd?(this.InterstitialAd.destroy(),this.InterstitialAd=null):this.Log("InterstitialAd is null")}ShareAppMessage(e,t,i,o,r,s,n,a,l,h){let d={channel:e,templateId:t,desc:i,title:o,imageUrl:r,query:s,extra:n,success(){a&&l&&l.call(a)},fail(e){a&&h&&h.call(a,e)}};n&&(d.extra=n),this.Controller.shareAppMessage(d)}RecorderStart(e,t,i,o,r,n,a,l,h){if(this.Recorder)return void this.Log("already recording...");if(this.Log("录屏-RecorderStart-duration:"+e+"  duration  Recorder:"+this.Recorder),e<=3&&(this.Warn("录屏-录屏时长必须 多于 秒"),e=15),e>300&&(this.Warn("录屏-录屏时长必须 小于等于300 秒"),e=300),!this.IsHasAPI("getGameRecorderManager"))return void this.Warn("getGameRecorderManager is not supported");let d=this;this.Recorder=this.Controller.getGameRecorderManager(),this.Recorder.onStart(e=>{this.RecorderStatus=s.EM_RECORD_TYPE.T_Recording,t&&i&&i.call(t,e)}),this.Recorder.onStop(e=>{this.RecorderStatus=s.EM_RECORD_TYPE.T_None,this.VideoPath=e.videoPath,t&&o&&o.call(t,this.VideoPath),d.Recorder=null}),this.Recorder.onResume(e=>{this.RecorderStatus=s.EM_RECORD_TYPE.T_Recording,t&&r&&r.call(t,e)}),this.Recorder.onPause(e=>{this.RecorderStatus=s.EM_RECORD_TYPE.T_Pasuse,t&&n&&n.call(t,e)}),this.Recorder.onInterruptionBegin(()=>{t&&l&&l.call(t)}),this.Recorder.onInterruptionEnd(()=>{t&&h&&h.call(t)}),this.Recorder.onError(e=>{t&&a&&a.call(t,e)}),this.Recorder.start({duration:e})}RecorderStop(){this.Recorder?this.Recorder.stop():this.Error("Recorder is null")}RecorderPause(){this.Recorder&&this.Recorder.pause()}RecorderResume(){this.Recorder&&this.Recorder.resume()}ShowMoreGamesModal(e,t,i,o){this.Controller.onMoreGamesModalClose(e=>{}),this.Controller.onNavigateToMiniProgram(e=>{});let r=t();if(!r)return this.Error("ShowMoreGamesModal onGetOptions is null"),void(e&&i&&i.call(e,!1));this.IsOnIOS?(this.Warn("iOS is not supported"),e&&i&&i.call(e,!1)):this.Controller.showMoreGamesModal({appLaunchOptions:r,success(t){e&&i&&i.call(e,!0)},fail(t){e&&o&&o.call(e,t)}})}CreateMoreGamesButton(e,t,i,o,r,s,n){let a=r();if(!a)return this.Error("ShowMoreGamesModal onGetOptions is null"),void(o&&s&&s.call(o,!1));this.Controller.createMoreGamesButton({type:e,image:t,style:i,appLaunchOptions:a,onNavigateToMiniGame(e){o&&s&&s.call(o,!0)}}).onTap(()=>{o&&n&&n()})}GetPlatformUserInfo(e,t,i){this.IsHasAPI("getUserInfo")?this.Controller.getUserInfo({withCredentials:!1,lang:"zh_CN",success:i=>{e&&t&&t.call(e,i.userInfo)},fail:t=>{e&&i&&i.call(e,t)}}):this.Warn("getUserInfo is not supported")}}},"./sdk/SDK/Declare.ts":function(e,t,i){"use strict";i.r(t),i.d(t,"SDK",function(){return a});var o=i("./framework/Core.ts"),r=i("./sdk/SDK/Enum.ts"),s=i("./framework/Utility/Url.ts"),n=i("./sdk/Base/SDKPlatform.ts");class a{static get Domain(){return this._Url}static get Platform(){return null==this._Instance&&(this._Instance=new n.SDKPlatform),this._Instance}static get Core(){return o.Core.Instance}static get Instance(){return o.Core.Instance.AsManager()}static get Agent(){return o.Core.Instance.GetManager(r.ENUM_MANAGER.Agent)}static get Commerce(){return o.Core.Instance.GetManager(r.ENUM_MANAGER.Commerce)}static get Statistic(){return o.Core.Instance.GetManager(r.ENUM_MANAGER.Statistic)}static get Statistic_Api(){return o.Core.Instance.GetManager(r.ENUM_MANAGER.Api)}static get Data(){return o.Core.Instance.GetManager(r.ENUM_MANAGER.Data)}static get PowerMgr(){return o.Core.Instance.GetManager(r.ENUM_MANAGER.Power)}}a._Url=new s.Url,a._Instance=null},"./sdk/SDK/Enum.ts":function(e,t,i){"use strict";var o,r,s;i.r(t),i.d(t,"ENUM_MANAGER",function(){return o}),i.d(t,"METHOD",function(){return r}),i.d(t,"VARS",function(){return s}),function(e){e.Agent="AgentMgr",e.Event="EventMgr",e.Commerce="CommerceMgr",e.Resource="ResourceMgr",e.State="StateMgr",e.Panel="PanelMgr",e.Statistic="StatisticMgr",e.Data="DataMgr",e.Sound="SoundMgr",e.Platform="PlatformMgr",e.Logic="Logic",e.Log="LogMgr",e.Power="Power",e.Api="ApiMgr"}(o||(o={})),function(e){e.InitView="InitView",e.OnClear="OnClear",e.OnCancel="OnCancel",e.OnRemoved="OnRemoved",e.OnSelect="OnSelect",e.OnRefresh="OnRefresh",e.OnChangedItem="OnChangedItem",e.OnPreloadStateGame="PreloadStateGame",e.OnPreloadStateHome="OnPreloadStateHome",e.OnPreloadStateLoading="OnPreloadStateLoading",e.OnPreloadStateResult="OnPreloadStateResult",e.OnPreloadConfig="OnPreloadConfig",e.OnLoginSuccess="OnLoginSuccess",e.OnIncreaseLevel="OnIncreaseLevel",e.OnCloseNativeBanner="OnCloseNativeBanner",e.OnRefreshNativeBanner="OnRefreshNativeBanner",e.OnFinishLoading="OnFinishLoading",e.OnLoadingProgress="OnLoadingProgress",e.OnLoadingError="OnLoadingError",e.OnMouseDownBtnSkinVisible="OnMouseDownBtnSkinVisible",e.OnPlayEffect="OnPlayEffect",e.OnVibrate="OnVibrate",e.OnRandomUnlockSkin="OnRandomUnlockSkin",e.OnUnlockSkinByTreasureBox="OnUnlockSkinByTreasureBox",e.OnHowManyCoinCost="OnHowManyCoinCost",e.OnUnlockSkinByGold="OnUnlockSkinByGold",e.OnUnlockSkinByVideoAd="OnUnlockSkinByVideoAd",e.OnReinitSideBox="重新初始化侧边栏",e.OnCheckAllVariables="OnCheckAllVariables",e.OnCheckAllMethods="OnCheckAllMethods"}(r||(r={})),function(e){e.Power="Power",e.BallBounceSound="BallBounceSound",e.FloorBrokeSound="FloorBrokeSound",e.MusicSuffixName="MusicSuffixName",e.BackgroundMusic="BackgroundMusic",e.IsOpenBackgrouMusic="IsOpenBackgrouMusic",e.IsOpenEffectSound="IsOpenEffectSound",e.IsOpenVibrate="IsOpenVibrate",e.IsFirstTimeEnterGame="IsFirstGameStart",e.MusicVolume="MusicVolume",e.EffectVolume="EffectVolume",e.CurrentLevelIndex="CurrentLevelIndex",e.CurrentCoinCount="CurrentCoinCount",e.CurrentTicketCount="CurrentTicketCount",e.CurrentTicketsForWatchVideoAd="CurrentTicketUsedForWatchVideoAd",e.CurrentTotalScore="CurrentTotalScore",e.HistoryHighScore="HistoryHighScore",e.CurrentVideoAdCount="CurrentVideoAdCount",e.CurrentUnlockingSkinId="CurrentUnlockingSkinId",e.CurrentUsingSkinId="CurrentUsingSkinId",e.LastTimestamp="LastTimestamp",e.UnlockSkinList="UnlockSkinList",e.UsedRewardList="UsedRewardList",e.GMGameFinish="GMGameFinish",e.CurrentShareCardIndex="ShareCardIndex",e.CurrentScoreVisible="CurrentScoreVisible",e.HighestScoreVisible="HistoryHighestScoreVisible",e.IsBtnSkinVisible="IsBtnSkinVisible"}(s||(s={}))},"./sdk/SDK/EventDef.ts":function(e,t,i){"use strict";var o,r,s,n,a,l,h,d,c,u,S,g;i.r(t),i.d(t,"SDK_NET_API",function(){return o}),i.d(t,"COMMERCE_API",function(){return r}),i.d(t,"SDK_VARS",function(){return s}),i.d(t,"SDK_EVT",function(){return n}),i.d(t,"EM_VIDEO_PLAY_TYPE",function(){return a}),i.d(t,"EM_STATISTIC_TYPE",function(){return l}),i.d(t,"EM_SHARE_TYPE",function(){return h}),i.d(t,"EM_POWER_RECOVERY_TYPE",function(){return d}),i.d(t,"POWER_EVT",function(){return c}),i.d(t,"TIMER_NAME",function(){return u}),i.d(t,"EM_APP_BOX_TYPE",function(){return S}),i.d(t,"EM_BLOCK_TYPE",function(){return g}),function(e){e.Edit="Edit",e.Login="Login",e.MyInfo="MyInfo",e.Banner="Banner",e.Video="Video",e.InterstitialAd="InterstitialAd",e.GridAd="GridAd",e.AppBoxAd="AppBoxAd",e.BlockAd="BlockAd",e.NativeAd="NativeAd",e.ClickOut="ClickOut",e.ClientLog="ClientLog",e.Duration="Duration",e.Event="Event",e.Statistic_Api="Statistic_Api",e.Statistic_Layer="Statistic_Layer",e.Result="Result",e.Statistic_ShareCard="Statistic_ShareCard",e.Config="Config",e.CustomConfig="CustomConfig",e.DataDecode="DataDecode",e.GetBoardAward="GetBoardAward",e.Data_Layer="Data_Layer",e.ScoreBoard="ScoreBoard",e.SideBox="SideBox",e.Data_ShareCard="Data_ShareCard",e.StoreValue="StoreValue"}(o||(o={})),function(e){e.LoginAddress="LoginAddress",e.Login_Api="Login_Api",e.ShareInfo="ShareInfo",e.GetLeftTopBtnPosition="GetLeftTopBtnPosition",e.StatisticBanner="StatisticBanner",e.StatisticVideo="StatisticVideo",e.StatisticResult="StatisticResult",e.StatisticEvent="StatisticEvent",e.ShowShareOrVideo="ShowShareOrVideo",e.UseShareOrVideoStrategy="UseShareOrVideoStrategy",e.SwitchView="SwitchView",e.GetDeepTouchInfo="GetDeepTouchInfo",e.GetCustomConfig="GetCustomConfig",e.GameOver="GameOver",e.IsUnlockVideo="IsUnlockVideo",e.GetPowerInfo="GetPowerInfo",e.ListenOnPowerChanged="ListenOnPowerChanged",e.SetPower="SetPower",e.GetPower="GetPower",e.GetSideBox="GetSideBox",e.GetScoreBoardList="GetScoreBoardList",e.GetScoreBoardAward="GetScoreBoardAward",e.ShareCard="ShareCard",e.GetTodayBoutCount="GetTodayBoutCount",e.GetTotalBoutCount="GetTotalBoutCount",e.GetLastBountNumber="GetLastBountNumber",e.GetMaxBountNumber="GetMaxBountNumber",e.GetTodayWatchVideoCounter="GetTodayWatchVideoCounter",e.ChangeBannerStyle="ChangeBannerStyle",e.CreateBannerAd="CreateBannerAd",e.CreateSmallBannerAd="CreateSmallBannerAd",e.CreateCustomBannerAd="CreateCustomBannerAd",e.BannerAdChangeSize="BannerAdChangeSize",e.ShowBannerAd="ShowBannerAd",e.HideBannerAd="HideBannerAd",e.CreateRewardVideoAd="CreateRewardVideoAd",e.ShowRewardVideoAd="ShowRewardVideoAd",e.GetLayerList="GetLayerList",e.StatisticShareCard="StatisticShareCard",e.NavigateToMiniProgram="NavigateToMiniProgram",e.ShowUserInfoButton="ShowUserInfoButton",e.HideUserInfoButton="HideUserInfoButton",e.CreateInterstitialAd="CreateInterstitialAd",e.ShowInterstitialAd="ShowInterstitialAd",e.GetSharingResults="GetSharingResults",e.StatisticLayer="StatisticLayer",e.IsCanRewardByVideoOrShare="IsCanRewardByVideoOrShare",e.GetShareRewardLimit="GetShareRewardLimit",e.GetVideoRewardLimit="GetVideoRewardLimit",e.GetServerInfo="GetServerInfo",e.Hook="Hook",e.StatisticClickOut="StatisticClickOut",e.ShareTemplate="ShareTemplate",e.ShareToken="ShareToken",e.ShowMoreGamesModal="ShowMoreGamesModal",e.GetPlatformUserInfo="GetPlatformUserInfo",e.RecorderStart="RecorderStart",e.RecorderPause="RecorderPause",e.RecorderResume="RecorderResume",e.RecorderStop="RecorderStop",e.ShowGridAd="ShowGridAd",e.CreateGridAd="CreateGridAd",e.HideGridAd="HideGridAd",e.SubscribeSysMsg="SubscribeSysMsg",e.ShareByTemplateId="ShareByTemplateId",e.AddColorSign="AddColorSign",e.SaveAppToDesktop="SaveAppToDesktop",e.SubscribeAppMsg="SubscribeAppMsg",e.CreateAddFriendButton="CreateAddFriendButton",e.ShowAddFriendButton="ShowAddFriendButton",e.HideAddFriendButton="HideAddFriendButton",e.DestroyAddFriendButton="DestroyAddFriendButton",e.CreateAppBox="CreateAppBox",e.ShowAppBox="ShowAppBox",e.CreateBlockAd="CreateBlockAd",e.ShowBlockAd="ShowBlockAd",e.HideBlockAd="HideBlockAd",e.DestroyBlockAd="DestroyBlockAd",e.CreateNativeAd="CreateNativeAd",e.ShowNativeAd="ShowNativeAd",e.ClickNativeAd="ClickNativeAd",e.HasShortcutInstalled="HasShortcutInstalled",e.InstallShortcut="InstallShortcut",e.ShareImage="ShareImage",e.ShareVideo="ShareVideo",e.CreateMoreGamesButton="CreateMoreGamesButton"}(r||(r={})),function(e){e.TotalPowerCounter="PowerCounter",e.LastPowerAddTimestamp="LastPowerAddTimestamp",e.CountDownPro="CountDownPro",e.OnCountDown="OnCountDown",e.TodayWatchVideoCounter="TodayWatchVideoCounter",e.LastWatchVideoTimestamp="LastWatchVideoTimestamp",e.ListUnlockVideoLevelNumber="ListUnlockLevelNumber",e.ListStatisticsLayer="ListStatisticsLayer",e.ShareConfig="ShareConfig",e.MaxCustomNumber="MaxCustomNumber",e.LastCustomNumber="LastCustomNumber",e.TodayCustomNumberCounter="TodayCustomNumberCounter",e.TotalCustomNumberCounter="TotalCustomNumberCounter",e.LastPlayTimestamp="LastPlayTimestamp",e.JumpOutInfo="JumpOutInfo",e.VideoFalseLimit="VideoFalseLimit",e.ShareFalseLimit="ShareFalseLimit",e.PlatformUserInfo="PlatformUserInfo",e.BatchID="BatchID",e.PendingApiCounterList="PendingApiCounterList"}(s||(s={})),function(e){e.ShowBanner="显示banner广告",e.ShowBannerCallback="播放完banner广告后的回调",e.CheckIsHasDesktopIcon="检查桌面是否有图标",e.WatchVideoAdForReward="看视频广告获取奖励",e.WatchVideoForCoin="看视频获取金币",e.WatchVideoForThriceCoin="看视频获取3倍金币奖励",e.WatchVideoForSkin="看视频获得皮肤",e.WatchVideoForTicket="WatchVideoForTicket",e.WatchVideoForOfflineReward="WatchVideoForOfflineReward",e.WatchVideoForRevive="WatchVideoForRevive",e.WatchVideoForGiftPer3Level="WatchVideoForGiftPer3Level",e.WatchVideoAdForOpenTreasureBox="WatchVideoAdForOpenTreasureBox",e.OnFrontend="OnFrontend",e.OnBackend="OnBackendNotification"}(n||(n={})),function(e){e[e.VIDEO_PLAY_FAIL=0]="VIDEO_PLAY_FAIL",e[e.VIDEO_PLAY_FINISH=1]="VIDEO_PLAY_FINISH",e[e.VIDEO_PLAY_CANCEL=2]="VIDEO_PLAY_CANCEL"}(a||(a={})),function(e){e[e.CREATE=0]="CREATE",e[e.LOAD_SUCCESS=1]="LOAD_SUCCESS",e[e.LOAD_FAIL=2]="LOAD_FAIL",e[e.CLICK=3]="CLICK",e[e.SHOW=4]="SHOW",e[e.CLOSE=5]="CLOSE",e[e.EXPOSURE=6]="EXPOSURE",e[e.PLAY_CANCEL=7]="PLAY_CANCEL",e[e.PLAY_FINISH=8]="PLAY_FINISH"}(l||(l={})),function(e){e[e.None=0]="None",e[e.Share=1]="Share",e[e.Video=2]="Video"}(h||(h={})),function(e){e[e.None=0]="None",e[e.WatchVideo=1]="WatchVideo",e[e.AutoRecovery=2]="AutoRecovery",e[e.CountDown=3]="CountDown"}(d||(d={})),function(e){e.AddPower="AddPower"}(c||(c={})),function(e){e.RotateTurnplate="RotateTurnplate",e.SaveLastTimestamp="SaveLastTimestamp"}(u||(u={})),function(e){e[e.APPBOX_CREATE_SUCCESS=0]="APPBOX_CREATE_SUCCESS",e[e.APPBOX_CREATE_FAIL=1]="APPBOX_CREATE_FAIL",e[e.APPBOX_CLOSE=2]="APPBOX_CLOSE"}(S||(S={})),function(e){e[e.BLOCK_CREATE_SUCCESS=0]="BLOCK_CREATE_SUCCESS",e[e.BLOCK_CREATE_FAIL=1]="BLOCK_CREATE_FAIL",e[e.BLOCK_ONRESIZE=2]="BLOCK_ONRESIZE"}(g||(g={}))},"./sdk_tt/Main.ts":function(e,t,i){"use strict";i.r(t);var o=i("./sdk/SDK/Declare.ts"),r=i("./sdk/SDK/Enum.ts"),s=i("./sdk/Manager/AgentMgr.ts"),n=i("./sdk/Manager/StatisticMgr.ts"),a=i("./sdk/Manager/ApiMgr.ts"),l=i("./sdk/Manager/DataMgr.ts"),h=i("./sdk/Manager/PowerMgr.ts"),d=i("./sdk/Commerce/ToutiaoCommerce.ts"),c=i("./sdk/Platform/ToutiaoPlatform.ts"),u=i("./framework/Utility/LogUtility.ts");new class{constructor(){if(this.SDK_NAME="ydhw_tt",this.ALL_SDK_NAME="ydhw",u.LogUtility.IS_ENABLE_DEBUG=!0,u.LogUtility.Instance.Platform=o.SDK.Platform,!o.SDK.Platform.Initialize())return void console.error("Initialize SDK failed!");let e=new c.ToutiaoPlatform;e.Initialize();let t=new d.ToutiaoCommerce;t._Platform=e,t.Platform=e,null!=window[this.SDK_NAME]?o.SDK.Platform.IsDebug&&console.error("已存在: "+this.SDK_NAME):null!=t?(o.SDK.Platform.IsDebug&&console.log("Main constructor platform.Initialize():",o.SDK.Platform.PlatformType),window[this.SDK_NAME]=t,window[this.ALL_SDK_NAME]=t):o.SDK.Platform.IsDebug&&console.error("不存在平台对应的SDK"),o.SDK.Domain.Domain(["http://test-api.ylxyx.cn","https://api.ylxyx.cn"]).Manager("api/collect").Version("v1").Switch(1),o.SDK.Core.AddManager(r.ENUM_MANAGER.Commerce,t).AddManager(r.ENUM_MANAGER.Agent,new s.AgentMgr).AddManager(r.ENUM_MANAGER.Statistic,new n.StatisticMgr).AddManager(r.ENUM_MANAGER.Data,new l.DataMgr).AddManager(r.ENUM_MANAGER.Power,new h.PowerMgr).AddManager(r.ENUM_MANAGER.Api,new a.ApiMgr).Initialize(),o.SDK.Core.Restore()}}}});